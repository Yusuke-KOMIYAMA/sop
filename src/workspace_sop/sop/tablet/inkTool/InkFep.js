var InkTool={};InkTool.InkLib=(function(){var _1=document;return {Browser:(function(){var ua=navigator.userAgent;var _2=Object.prototype.toString.call(window.opera)=="[object Opera]";return {IE:!!window.attachEvent&&!_2,Opera:_2,WebKit:ua.indexOf("AppleWebKit/")>-1,Gecko:ua.indexOf("Gecko")>-1&&ua.indexOf("KHTML")===-1,MobileSafari:/Apple.*Mobile/.test(ua),Chrome:ua.indexOf("Chrome")>-1,Firefox:ua.indexOf("Firefox")>-1,Safari:ua.indexOf("Safari")>-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Mobile")===-1};})(),BrowserVersion:(function(){var av=navigator.appVersion.toLowerCase();return {IE:(function(){var _3=av.indexOf("msie ");if(_3<0){return 0;}_3+=5;var _4=av.indexOf(".",_3);if(_4<0){return 0;}return parseInt(av.substring(_3,_4),10);})(),Others:0};})(),SupportsTouches:(("createTouch" in document)||("ontouchstart" in document)),Class:(function(){function _5(){};function _6(_7,_8){if(_7==null){_7=InkTool.Base;}function _9(){this.initialize.apply(this,arguments);};if(_7!=null){_5.prototype=_7.prototype;_9.prototype=new _5;_7.subclasses.push(_9);}for(var _a in _8){_9.prototype[_a]=_8[_a];}_9.superclass=_7;_9.subclasses=[];_9.prototype.constructor=_9;return _9;};function _b(_c,_d){for(var _e in _d){_c.prototype[_e]=_d[_e];}return _c;};function _f(_10){var _11=new Object();for(var _12 in _10){if(typeof _10[_12].clone=="function"){_11[_12]=_10[_12].clone();}else{_11[_12]=_10[_12];}}return _11;};return {create:_6,extend:_b,clone:_f};})(),needsEmulateCanvas:function(){return (InkTool.InkLib.Browser.IE&&InkTool.InkLib.BrowserVersion.IE<=8);},getBrowserTypeName:function(){var _13=InkTool.InkLib.Browser;var _14=InkTool.InkLib.BrowserVersion;if(_13.IE){return "IE"+_14.IE;}else{if(_13.Opera){return "Opera";}else{if(_13.Chrome){return "Chorme";}else{if(_13.Firefox){return "Firefox";}else{if(_13.Safari){return "Safari";}else{if(_13.MobileSafari){return "MobileSafari";}else{if(_13.Gecko){return "Gecko";}else{if(_13.Webkit){return "Webkit";}else{return "Unknown Browser";}}}}}}}}},getElementById:function(id){if(_1.getElementById){return _1.getElementById(id);}else{if(_1.all){return _1.all(id);}else{if(_1.layers){return _1.layers[id];}else{return null;}}}},camelizeString:function(str){var _15=str.split("-");if(_15.length==1){return _15[0];}var _16=(str.indexOf("-")==0)?_15[0].charAt(0).toUpperCase()+_15[0].substring(1):_15[0];for(var i=1,len=_15.length;i<len;i++){var s=_15[i];_16+=s.charAt(0).toUpperCase()+s.substring(1);}return _16;},trimString:function(str){var _17,ch,_18;_18=-1;for(_17=0;_17<str.length;_17++){ch=str.charAt(_17);if(ch!=" "&&ch!="?½@"){_18=_17;}}return str.substring(0,_18+1);},trimWhiteSpace:function(str){var _19,ch,_1a,_1b;_1a=-1;_1b=-1;for(_19=0;_19<str.length;_19++){ch=str.charAt(_19);if(ch!=" "&&ch!="\t"&&ch!="\r"&&ch!="\n"){if(_1a<0){_1a=_19;}_1b=_19;}}return str.substring(_1a,_1b+1);},getStyleOfElement:function(_1c,_1d,_1e){if(_1c.currentStyle){return _1c.currentStyle[InkTool.InkLib.camelizeString(_1d)];}else{if(getComputedStyle){return getComputedStyle(_1c,"").getPropertyValue(_1d);}else{if(_1.defaultView){return _1.defaultView.getComputedStyle(_1c,"").getPropertyValue(_1d);}else{return _1e;}}}},getStyleById:function(id,_1f,_20){var _21=InkTool.InkLib.getElementById(id);if(_21==null){return _20;}else{return InkTool.InkLib.getStyleOfElement(_21,_1f,_20);}},getScrollX:function(){if(window.scrollX){return window.scrollX;}else{if(window.pageXOffset){return window.pageXOffset;}else{if(_1.documentElement&&_1.documentElement.scrollLeft){return _1.documentElement.scrollLeft;}else{if(_1.body&&_1.body.scrollLeft){return _1.body.scrollLeft;}else{return 0;}}}}},getScrollY:function(){if(window.scrollY){return window.scrollY;}else{if(window.pageYOffset){return window.pageYOffset;}else{if(_1.documentElement&&_1.documentElement.scrollTop){return _1.documentElement.scrollTop;}else{if(_1.body&&_1.body.scrollTop){return _1.body.scrollTop;}else{return 0;}}}}},getClientX:function(){if(_1.documentElement&&_1.documentElement.clientLeft){return _1.documentElement.clientLeft;}else{if(_1.body&&_1.body.clientLeft){return _1.body.clientLeft;}else{return 0;}}},getClientY:function(){if(_1.documentElement&&_1.documentElement.clientTop){return _1.documentElement.clientTop;}else{if(_1.body&&_1.body.clientTop){return _1.body.clientTop;}else{return 0;}}},getOffsetX:function(_22){if(typeof window.crypto!="undefined"&&typeof window.getComputedStyle!="undefined"&&obj.style.left){return InkTool.InkLib.getClientX()+parseInt(_22.style.left);}else{return InkTool.InkLib.getClientX()+(_1.layers?_22.left:(_22.offsetLeft||_22.style.pixelLeft||0));}},getOffsetY:function(_23){if(typeof window.crypto!="undefined"&&typeof window.getComputedStyle!="undefined"&&obj.style.top){return InkTool.InkLib.getClientY()+parseInt(_23.style.top);}else{return InkTool.InkLib.getClientY()+(_1.layers?_23.top:(_23.offsetTop||_23.style.pixelTop||0));}},getEventX:function(_24,_25){sx=InkTool.InkLib.getScrollX();if(_25!=null){ox=InkTool.InkLib.getOffsetX(_25);}else{ox=0;}return _24.clientX-ox+sx;},getEventY:function(_26,_27){sy=InkTool.InkLib.getScrollY();if(_27!=null){oy=InkTool.InkLib.getOffsetY(_27);}else{oy=0;}return _26.clientY-oy+sy;},getClientWidth:function(){if(_1.documentElement.clientWidth){return _1.documentElement.clientWidth;}else{if(_1.body.clientWidth){return _1.body.clientWidth;}else{return window.innerWidth;}}},getClientHeight:function(){if(_1.documentElement.clientHeight){return _1.documentElement.clientHeight;}else{if(_1.body.clientHeight){return _1.body.clientHeight;}else{return window.innerHeight;}}},getElementSize:function(_28){if(_28==null){return {width:InkTool.InkLib.getClientWidth(),height:InkTool.InkLib.getClientHeight()};}if(InkTool.InkLib.getStyleOfElement(_28,"display","")!="none"){return {width:_28.offsetWidth,height:_28.offsetHeight};}var _29=_28.style.visibility;var _2a=_28.style.position;_28.style.visibility="hidden";_28.style.position="absolute";_28.style.display="";var _2b=_28.clientWidth;var _2c=_28.clientHeight;_28.style.display="none";_28.style.position=_2a;_28.style.visibility=_29;return {width:_2b,height:_2c};},getElementLocation:function(_2d){var _2e=_2d;var xp=0;var yp=0;while(_2e){xp+=_2e.offsetLeft;yp+=_2e.offsetTop;_2e=_2e.offsetParent;if((_2e)&&(InkTool.InkLib.Browser.IE)){xp+=(parseInt(InkTool.InkLib.getStyleOfElement(_2e,"border-left-width","0"))||0);yp+=(parseInt(InkTool.InkLib.getStyleOfElement(_2e,"border-top-width","0"))||0);}}if(InkTool.InkLib.Browser.Gecko){var bd=_1.getElementsByTagName("BODY")[0];xp+=2*(parseInt(InkTool.InkLib.getStyleOfElement(bd,"border-left-width","0"))||0);yp+=2*(parseInt(InkTool.InkLib.getStyleOfElement(bd,"border-top-width","0"))||0);}return {left:xp,top:yp};},getElementAbsoluteLocation:function(_2f){var _30=_2f;var xp=0;var yp=0;while(_30){xp+=_30.offsetLeft;yp+=_30.offsetTop;_30=_30.offsetParent;if((_30)&&(InkTool.InkLib.Browser.IE)){xp+=(parseInt(InkTool.InkLib.getStyleOfElement(_30,"border-left-width","0"))||0);yp+=(parseInt(InkTool.InkLib.getStyleOfElement(_30,"border-top-width","0"))||0);}if((_30)){var pos=InkTool.InkLib.getStyleOfElement(_30,"position","");if(pos!=""&&pos!="static"){break;}}}if(InkTool.InkLib.Browser.Gecko&&(_30==null)){var bd=_1.getElementsByTagName("BODY")[0];xp+=2*(parseInt(InkTool.InkLib.getStyleOfElement(bd,"border-left-width","0"))||0);yp+=2*(parseInt(InkTool.InkLib.getStyleOfElement(bd,"border-top-width","0"))||0);}return {left:xp,top:yp};},addElementAfter:function(_31,_32){if(_31.nextSibling){_31.parentNode.insertBefore(_32,_31.nextSibling);}else{_31.parentNode.appendChild(_32);}},getMaxZIndex:function(){var _33=0;var _34=document.defaultView;var _35=function(_36){var _37=document.getElementsByTagName(_36);for(var _38=0;_38<_37.length;_38++){var _39=_37[_38];var _3a=InkTool.InkLib.getStyleOfElement(_39,"z-index","0");_3a-=0;if(_33<_3a){_33=_3a;}}};if(arguments.length==0){_35("*");}else{for(var ct=0;ct<arguments.length;ct++){_35(arguments[ct]);}}return _33;},showElement:function(_3b){if(_3b!=null){_3b.style.visibility="visible";}},hideElement:function(_3c){if(_3c!=null){_3c.style.visibility="hidden";}},showElementById:function(id){InkTool.InkLib.showElement(InkTool.InkLib.getElementById(id));},hideElementById:function(id){InkTool.InkLib.hideElement(InkTool.InkLib.getElementById(id));},showPopup:function(_3d,_3e){if(_3d==null||_3e==null){return;}var pos=InkTool.InkLib.getElementLocation(_3d);var _3f=InkTool.InkLib.getElementSize(_3d);var xp=pos.left;var yp=pos.top+_3f.height;var _40=InkTool.InkLib.getElementSize(_3e);var _41=InkTool.InkLib.getClientWidth();if(xp+_40.width>_41){xp=_41-_40.width;if(xp<0){xp=0;}}_3e.style.left=""+xp+"px";_3e.style.top=""+yp+"px";InkTool.InkLib.showElement(_3e);},showPopupById:function(_42,_43){var _44=InkTool.InkLib.getElementById(_42);var _45=InkTool.InkLib.getElementById(_43);InkTool.InkLib.showPopup(_44,_45);},addEvent:function(_46,_47,fn){if(_46.addEventListener){_46.addEventListener(_47,function(){return fn.apply(_46,arguments);},false);return true;}else{if(_46.attachEvent){return _46.attachEvent("on"+_47,function(){return fn.apply(_46,arguments);});}else{return false;}}},removeEvent:function(_48,_49,fn){if(_48.removeEventListener){_48.removeEventListener(_49,function(){return fn.apply(_48,arguments);},false);return true;}else{if(_48.detachEvent){return _48.detachEvent("on"+_49,function(){return fn.apply(_48,arguments);});}else{return false;}}},contains:function(_4a,_4b){for(var i,len=_4a.length;i<len;i++){if(_4a[i]===_4b){return true;}}return false;},getLastEvent:function(evt){if(InkTool.InkLib.Browser.IE){return window.event;}else{return evt;}},getEventPosition:function(evt){return {left:(evt.pageX?evt.pageX:evt.clientX+InkTool.InkLib.getScrollX()),top:(evt.pageY?evt.pageY:evt.clientY+InkTool.InkLib.getScrollY())};},getTouchEventPosition:function(evt,_4c){if(evt.touches&&_4c>=0&&_4c<evt.touches.length){return InkTool.InkLib.getEventPosition(evt.touches[_4c]);}else{return null;}},convertPositionDocumentToElement:function(pos,_4d){var _4e=InkTool.InkLib.getElementLocation(_4d);return {left:pos.left-_4e.left,top:pos.top-_4e.top};},convertPositionEventToAbsolute:function(pos){return {left:pos.left-InkTool.InkLib.getScrollX(),top:pos.top-InkTool.InkLib.getScrollY()};},getEventPositionOfElement:function(evt,_4f){var _50=InkTool.InkLib.getEventPosition(evt);var _51=InkTool.InkLib.getElementLocation(_4f);return {left:_50.left-_51.left,top:_50.top-_51.top};},preventDefaultActionOfEvent:function(evt,_52,_53){if(_52){if(evt.preventDefault){evt.preventDefault();}else{evt.returnValue=false;}}if(_53){if(InkTool.InkLib.Browser.IE){evt.cancelBubble=true;}else{evt.stopPropagation();}}},getButtonPushed:function(_54,_55){var _56=InkTool.InkLib.Browser;if(_56.IE){var _57={0:1,1:4,2:2};return (_54.button===_57[_55]);}else{if(_56.WebKit){switch(_55){case 0:return _54.which==1&&!_54.metaKey;case 1:return _54.which==2||(_54.which==1&&_54.metaKey);case 2:return _54.which==3;default:return false;}}else{return _54.which?(_54.which===_55+1):(_54.button===_55);}}},getButtonStatus:function(_58){if(InkTool.InkLib.getButtonPushed(_58,0)){return 1;}else{if(InkTool.InkLib.getButtonPushed(_58,1)){return 2;}else{if(InkTool.InkLib.getButtonPushed(_58,2)){return 3;}else{return 0;}}}},preLoadImage:function(_59){var img=new Image();img.src=_59+"?"+new Date().getTime();return img;},setSelectionToElement:function(_5a,_5b,end){if(_5a.setSelectionRange){_5a.setSelectionRange(_5b,end);}else{var _5c=-(_5a.value.length-end);var _5d=_5a.createTextRange();_5d.moveStart("character",_5b);_5d.moveEnd("character",_5c);_5d.select();}},selectAllOfElement:function(_5e){InkTool.InkLib.setSelectionToElement(_5e,0,_5e.value.length);},insertTextToElement:function(_5f,_60){_5f.focus();if((_5f.selectionStart||_5f.selectionStart==0)&&(_5f.selectionEnd||_5f.selectionEnd==0)){var _61=_5f.value;_5f.value=_61.substring(0,_5f.selectionStart)+_60+_61.substring(_5f.selectionEnd,_61.length);}else{var _62=_1.selection.createRange();_62.text=_60;}},disableSelection:function(_63){if(typeof _63.onselectstart!="undefined"){_63.onselectstart=function(){return false;};}else{if(typeof _63.style.MozUserSelect!="undefined"){_63.style.MozUserSelect="none";}else{_63.onmousedown=function(){return false;};}}_63.style.cursor="default";},setCookie:function(_64,_65){for(var key in _64){var str=""+key+"="+encodeURIComponent(_64[key]);if(_65!=null&&_65!=undefined){var _66=new Date();_66.setTime(_66.getTime()+_65);str+=" ;expires="+_66.toUTCString();}document.cookie=str;}},getCookie:function(){var _67=new Object();var _68=document.cookie;if(_68!=""){var _69=_68.split(";");for(var _6a=0;_6a<_69.length;_6a++){var _6b=_69[_6a].split("=");var key=InkTool.InkLib.trimWhiteSpace(_6b[0]);var val=InkTool.InkLib.trimWhiteSpace(decodeURIComponent(_6b[1]));_67[key]=val;}}return _67;},getCookieValue:function(_6c,key,_6d){if(_6c==null){return _6d;}var _6e=_6c[key];if(_6e!=null&&_6e!=undefined){if(typeof (_6d)=="number"){return Number(_6e);}else{if(typeof (_6d)=="boolean"){if(_6e=="false"){return false;}else{return Boolean(_6e);}}else{return _6e;}}}else{return _6d;}},sendString:function(str,url,_6f,_70,_71){var _72=InkTool.InkLib.getXmlHttpObject();var _73={"httpobj":_72,"trynum":_6f,"tried":0,"interval":_70,"canceled":false,"error":false};_72.onreadystatechange=function(){if(_72.readyState==4){if(_72.status==200){_73.tried++;_73.error=false;if(typeof (_71)==="function"){_71(_73,_72.responseText);}else{alert("resp="+_72.responseText);}}else{_73.tried++;_73.error=true;if(typeof (_71)==="function"){_71(_73,_72.responseText);}else{alert("status error:"+_72.status+":resp="+_72.responseText);}if(_73.canceled!=true&&(_73.trynum<=0||_73.tried<_73.trynum)){setTimeout(function(){try{_72.open("POST",url,true);_72.setRequestHeader("CONTENT-TYPE","application/x-www-form-urlencoded");_72.send(str);}catch(e){alert("http send error:"+e);_73.error=true;}},_73.interval);}}}};try{_72.open("POST",url,true);_72.setRequestHeader("CONTENT-TYPE","application/x-www-form-urlencoded");_72.send(str);}catch(e){alert("http send error:"+e);_73.error=true;}return _73;},getXmlHttpObject:function(){var _74=null;try{_74=new XMLHttpRequest();}catch(e){try{_74=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){_74=new ActiveXObject("Microsoft.XMLHTTP");}}return _74;},dummyFunction:function(){}};})();InkTool.Base=function(){};InkTool.Base.superclass=null;InkTool.Base.subclasses=[];InkTool.Base.prototype={initialize:function(){},clone:function(){var _75=new Object();for(var _76 in this){_75[_76]=this.doClone(this[_76]);}return _75;},doClone:function(_77){if(_77 instanceof InkTool.Base){return _77.clone();}else{if(_77 instanceof Array){var _78=new Array();var _79=_77.length;for(var _7a=0;_7a<_79;_7a++){_78.push(this.doClone(_77[_7a]));}return _78;}else{if(typeof _77=="object"){var obj=new Object();for(var key in _77){obj[key]=this.doClone(_77[key]);}return obj;}else{return _77;}}}},extend:function(_7b){for(var _7c in _7b){this.prototype[_7c]=_7b[_7c];}}};InkTool.InkColor=InkTool.InkLib.Class.create(null,{initialize:function(_1){this.setColor(_1);},clearColor:function(_2){this.ok=_2;this.R=0;this.G=0;this.B=0;this.A=0;},setColor:function(_3){if(_3===null){this.clearColor(false);}else{if(typeof _3=="string"){this.setString(_3);}else{if(typeof _3=="number"){this.setNumber(_3);}else{this.copyColor(_3);}}}},setString:function(_4){this.clearColor(false);_4=_4.replace(/ /g,"");_4=_4.toLowerCase();var _5={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var _6=_5[_4];if(_6!=undefined){_4="#"+_6;}var _7=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*([0-9\.]*)\)$/,example:["rgba(123, 234, 45, 1.0)","rgba(255,234,245, 0.5)"],process:function(_8){return [parseInt(_8[1]),parseInt(_8[2]),parseInt(_8[3]),Math.floor(parseFloat(_8[4])*255+0.5)];}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_9){return [parseInt(_9[1]),parseInt(_9[2]),parseInt(_9[3]),255];}},{re:/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#ff00ff00","80336699"],process:function(_a){return [parseInt(_a[2],16),parseInt(_a[3],16),parseInt(_a[4],16),parseInt(_a[1],16)];}},{re:/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(_b){return [parseInt(_b[1],16),parseInt(_b[2],16),parseInt(_b[3],16),255];}},{re:/^#(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_c){return [parseInt(_c[1]+_c[1],16),parseInt(_c[2]+_c[2],16),parseInt(_c[3]+_c[3],16),255];}}];for(var i=0;i<_7.length;i++){var re=_7[i].re;var _d=_7[i].process;var _e=re.exec(_4);if(_e){channels=_d(_e);this.R=channels[0];this.G=channels[1];this.B=channels[2];this.A=channels[3];this.ok=true;break;}}if(this.ok==true){function _f(val){return (isNaN(val)==false&&val>=0&&val<=255);};if(_f(this.R)==false||_f(this.G)==false||_f(this.B)==false||_f(this.A)==false){this.clearColor(false);}}},setNumber:function(_10){this.A=(_10>>>24);this.R=((_10&16711680)>>16);this.G=((_10&65280)>>8);this.B=(_10&255);this.ok=true;},copyColor:function(_11){this.A=_11.A;this.R=_11.R;this.G=_11.G;this.B=_11.B;this.ok=_11.ok;},getRGB:function(){return "rgb("+this.R+","+this.G+","+this.B+")";},getRGBA:function(){return "rgba("+this.R+","+this.G+","+this.B+","+(this.A/255).toFixed(3)+")";},getHex:function(){var r=this.R.toString(16);var g=this.G.toString(16);var b=this.B.toString(16);if(r.length==1){r="0"+r;}if(g.length==1){g="0"+g;}if(b.length==1){b="0"+b;}return "#"+r+g+b;},getNumber:function(){return (((this.A<<24)+(this.R<<16)+(this.G<<8)+this.B)>>>0);},});InkTool.InkPenType={None:4,BallpointPen:0,FeltPen:1,BrushPen:1,StrokeEraser:2,NormalEraser:3,MarkerPen:5,FudePen:6,AirbrushPen:7,Pencil:10,PencilEmulated:11,Max:100};InkTool.InkStationery=InkTool.InkLib.Class.create(null,{initialize:function(){this.tp=InkTool.InkPenType.None;this.col=new InkTool.InkColor("black");this.w=1;this.minw=1;this.maxw=1;},getInfo:function(){return "type="+this.tp+":color="+this.col.getRGBA()+":width="+this.w+"("+this.minw+"-"+this.maxw+")";},getPenType:function(){return this.tp;},setPenColor:function(_1){this.col=_1;},getPenColor:function(){return this.col;},setPenWidth:function(_2){this.w=_2;},getPenWidth:function(){return this.w;},setPenMinWidth:function(_3){this.minw=_3;},getPenMinWidth:function(){return this.minw;},setPenMaxWidth:function(_4){this.maxw=_4;},getPenMaxWidth:function(){return this.maxw;},hasFullDrawMode:function(){return false;}});InkTool.DrawingContext=InkTool.InkLib.Class.create(null,{initialize:function(_5,_6,_7,_8){this.context=_5;this.offsetX=_6;this.offsetY=_7;this.zoomRatio=_8;this.eraserBgColor=null;},setContext:function(_9){this.context=_9;},getContext:function(){return this.context;},setOffset:function(_a,_b){this.offsetX=_a;this.offsetY=_b;},getOffsetX:function(){return this.offsetX;},getOffsetY:function(){return this.offsetY;},setZoomRatio:function(_c){this.zoomRatio=_c;},getZoomRatio:function(){return this.zoomRatio;},xpDataToDraw:function(xp){return ((xp-this.offsetX)*this.zoomRatio);},ypDataToDraw:function(yp){return ((yp-this.offsetY)*this.zoomRatio);},widthDataToDraw:function(_d){return (_d*this.zoomRatio);},heightDataToDraw:function(_e){return (_e*this.zoomRatio);},setEraserBgColor:function(_f){this.eraserBgColor=_f;},getEraserBgColor:function(){return this.eraserBgColor;},dummy:function(){}});InkTool.InkBallpointPen=InkTool.InkLib.Class.create(InkTool.InkStationery,{initialize:function(){this.tp=InkTool.InkPenType.BallpointPen;this.col=new InkTool.InkColor("darkred");this.w=2;this.minw=1;this.maxw=5;},drawStart:function(_10){var ctx=_10.context;ctx.strokeStyle=this.getPenColor().getRGBA();ctx.fillStyle=this.getPenColor().getRGBA();ctx.globalCompositeOperation="source-over";ctx.lineWidth=_10.widthDataToDraw(this.getPenWidth());ctx.lineCap="round";ctx.lineJoin="round";},strokeStart:function(_11,xp,yp,tm){var ctx=_11.context;var _12=_11.xpDataToDraw(xp);var _13=_11.ypDataToDraw(yp);_11.llastX=_11.lastX=_12;_11.llastY=_11.lastY=_13;},strokeMove:function(_14,xp,yp,tm){var ctx=_14.context;var _15=_14.xpDataToDraw(xp);var _16=_14.ypDataToDraw(yp);var x1=(_14.lastX+_14.llastX)/2;var y1=(_14.lastY+_14.llastY)/2;var x2=_14.lastX;var y2=_14.lastY;var x3=(_14.lastX+_15)/2;var y3=(_14.lastY+_16)/2;ctx.beginPath();ctx.moveTo(x1,y1);ctx.quadraticCurveTo(x2,y2,x3,y3);if(InkTool.InkLib.Browser.Chrome){ctx.lineTo(x3+0.1,y3+0.1);}ctx.stroke();_14.llastX=_14.lastX;_14.llastY=_14.lastY;_14.lastX=_15;_14.lastY=_16;},strokeEnd:function(_17,xp,yp,tm){var ctx=_17.context;var _18=_17.xpDataToDraw(xp);var _19=_17.ypDataToDraw(yp);var x1=(_17.lastX+_17.llastX)/2;var y1=(_17.lastY+_17.llastY)/2;var x2=_17.lastX;var y2=_17.lastY;var x3=_18;var y3=_19;ctx.beginPath();ctx.moveTo(x1,y1);ctx.quadraticCurveTo(x2,y2,x3,y3);if(InkTool.InkLib.Browser.Chrome){ctx.lineTo(x3+0.1,y3+0.1);}ctx.stroke();_17.llastX=_17.lastX;_17.llastY=_17.lastY;_17.lastX=_18;_17.lastY=_19;},drawEnd:function(_1a){},fullDrawStart:function(_1b){var ctx=_1b.context;ctx.strokeStyle=this.getPenColor().getRGBA();ctx.fillStyle=this.getPenColor().getRGBA();ctx.globalCompositeOperation="source-over";ctx.lineWidth=_1b.widthDataToDraw(this.getPenWidth());ctx.lineCap="round";ctx.lineJoin="round";},fullStrokeStart:function(_1c,xp,yp,tm){var ctx=_1c.context;var _1d=_1c.xpDataToDraw(xp);var _1e=_1c.ypDataToDraw(yp);ctx.beginPath();ctx.moveTo(_1d,_1e);_1c.llastX=_1c.lastX=_1d;_1c.llastY=_1c.lastY=_1e;},fullStrokeMove:function(_1f,xp,yp,tm){var ctx=_1f.context;var _20=_1f.xpDataToDraw(xp);var _21=_1f.ypDataToDraw(yp);var x2=_1f.lastX;var y2=_1f.lastY;var x3=(_1f.lastX+_20)/2;var y3=(_1f.lastY+_21)/2;ctx.quadraticCurveTo(x2,y2,x3,y3);_1f.llastX=_1f.lastX;_1f.llastY=_1f.lastY;_1f.lastX=_20;_1f.lastY=_21;},fullStrokeEnd:function(_22,xp,yp,tm){var ctx=_22.context;var _23=_22.xpDataToDraw(xp);var _24=_22.ypDataToDraw(yp);var x2=_22.lastX;var y2=_22.lastY;var x3=_23;var y3=_24;ctx.quadraticCurveTo(x2,y2,x3,y3);if(InkTool.InkLib.Browser.Chrome){ctx.lineTo(x3+0.1,y3+0.1);}ctx.stroke();_22.llastX=_22.lastX;_22.llastY=_22.lastY;_22.lastX=_23;_22.lastY=_24;},fullDrawEnd:function(_25){},hasFullDrawMode:function(){return true;},getSubInfo:function(){return "BallpointPen";}});InkTool.InkFeltPen=InkTool.InkLib.Class.create(InkTool.InkStationery,{initialize:function(){this.tp=InkTool.InkPenType.FeltPen;this.col=new InkTool.InkColor("purple");this.w=5;this.minw=3;this.maxw=8;},drawStart:function(_26){var ctx=_26.context;ctx.strokeStyle=this.getPenColor().getRGBA();ctx.fillStyle=this.getPenColor().getRGBA();ctx.globalCompositeOperation="source-over";ctx.lineWidth=_26.widthDataToDraw(this.getPenWidth());ctx.lineCap="round";ctx.lineJoin="round";_26.drawMinPenWidth=_26.widthDataToDraw(this.getPenMinWidth());_26.drawMaxPenWidth=_26.widthDataToDraw(this.getPenMaxWidth());_26.drawScalePenWidth=_26.drawMaxPenWidth-_26.drawMinPenWidth;_26.queuePoints=new Array();},strokeStart:function(_27,xp,yp,tm){var ctx=_27.context;var _28=_27.xpDataToDraw(xp);var _29=_27.ypDataToDraw(yp);_27.llastX=_27.lastX=_28;_27.llastY=_27.lastY=_29;_27.lastTime=tm;_27.lastTimeSlice=8;_27.firstDraw=true;_27.moveCount=0;_27.moveSum=0;_27.timeStr="";},strokeMove:function(_2a,xp,yp,tm){_2a.timeStr="";if(tm<=_2a.lastTime){_2a.queuePoints.push({"x":xp,"y":yp});return;}var _2b=(tm-_2a.lastTime)/(_2a.queuePoints.length+1);while(_2a.queuePoints.length>0){var _2c=_2a.queuePoints.shift();this.strokeMoveSub(_2a,_2c.x,_2c.y,_2b);}this.strokeMoveSub(_2a,xp,yp,_2b);_2a.lastTime=tm;},strokeMoveSub:function(_2d,xp,yp,_2e){var ctx=_2d.context;var _2f=_2d.xpDataToDraw(xp);var _30=_2d.ypDataToDraw(yp);var _31=_2d.drawMinPenWidth;var _32=_2d.drawScalePenWidth;_2d.moveCount++;_2d.timeStr=_2d.timeStr+","+_2e;var _33;if(_2d.moveCount==1){var t2=_2e;var px2=_2d.lastX;var py2=_2d.lastY;var px3=_2f;var py3=_30;var d2=Math.sqrt(px2*px2-2*px2*px3+px3*px3+py2*py2-2*py2*py3+py3*py3);var v2=d2/t2;_2d.lastV1=_2d.lastV2=_2d.lastV3=_2d.lastV4=_2d.lastV5=v2;_33=v2;_2d.moveSum+=d2;}else{var t1=_2d.lastTimeSlice;var t2=_2e;var px1=_2d.llastX;var py1=_2d.llastY;var px2=_2d.lastX;var py2=_2d.lastY;var px3=_2f;var py3=_30;var d1=Math.sqrt(px1*px1-2*px1*px2+px2*px2+py1*py1-2*py1*py2+py2*py2);var d2=Math.sqrt(px2*px2-2*px2*px3+px3*px3+py2*py2-2*py2*py3+py3*py3);var vc1=d1/t1/_2d.zoomRatio;var vc3=d2/t2/_2d.zoomRatio;var v1=(_2d.lastV3+_2d.lastV4+vc1)/3;var v3=(_2d.lastV4+_2d.lastV5+vc3)/3;_2d.moveSum+=d2;var _34=_2d.moveSum+_2d.moveCount;if(_34<10){_32=_32*_34/10;}var x1=(_2d.lastX+_2d.llastX)/2;var y1=(_2d.lastY+_2d.llastY)/2;var x2=_2d.lastX;var y2=_2d.lastY;var x3=(_2d.lastX+_2f)/2;var y3=(_2d.lastY+_30)/2;var v2=(v1+v3)/2;var _35=_31+_32*Math.exp(-1.5*v2);var _36=Math.round((d1+d2)/_35*10);if(_36<10){_36=10;}var _37=Math.round((d1+d2)/(6.2*_2d.zoomRatio)*10);if(_37<10){_37=10;}_37/=2;var _38=this.getPenColor();var _39=_38.A/255/_37;var _3a="rgba("+_38.R+","+_38.G+","+_38.B+","+_39.toFixed(5)+")";ctx.fillStyle=_3a;var _3b=false;var dxl=0;var dyl=0;for(var idx=0;idx<_36;idx++){var dt=idx/_36;var dx=x3*(1-dt)*(1-dt)+x2*2*dt*(1-dt)+x1*dt*dt;var dy=y3*(1-dt)*(1-dt)+y2*2*dt*(1-dt)+y1*dt*dt;var dv=v3*(1-dt)*(1-dt)+v2*2*dt*(1-dt)+v1*dt*dt;ctx.beginPath();ctx.arc(dx,dy,_31+_32*Math.exp(-1.5*dv),0,Math.PI*2,false);ctx.fill();_3b=true;dxl=dx;dyl=dy;}_33=v2;}_2d.llastX=_2d.lastX;_2d.llastY=_2d.lastY;_2d.lastX=_2f;_2d.lastY=_30;_2d.lastV1=_2d.lastV2;_2d.lastV2=_2d.lastV3;_2d.lastV3=_2d.lastV4;_2d.lastV4=_2d.lastV5;_2d.lastV5=_33;},strokeEnd:function(_3c,xp,yp,tm){_3c.timeStr="";var ctx=_3c.context;if(tm<=_3c.lastTime){tm=_3c.lastTime+8;}if(_3c.queuePoints.length==0){return;}var _3d=(tm-_3c.lastTime)/_3c.queuePoints.length;while(_3c.queuePoints.length>0){var _3e=_3c.queuePoints.shift();this.strokeMoveSub(_3c,_3e.x,_3e.y,_3d);}},drawEnd:function(_3f){},hasFullDrawMode:function(){return false;},getSubInfo:function(){return "FeltPen";}});InkTool.InkPencil=InkTool.InkLib.Class.create(InkTool.InkStationery,{initialize:function(){if(InkTool.InkLib.needsEmulateCanvas()){this.tp=InkTool.InkPenType.PencilEmulated;}else{this.tp=InkTool.InkPenType.PencilEmulated;}this.col=new InkTool.InkColor("#FF4A4C4B");this.w=1.8;this.minw=0.2;this.maxw=2;},drawStart:function(_40){if(this.tp==InkTool.InkPenType.PencilEmulated){InkTool.InkBallpointPen.prototype.drawStart.apply(this,arguments);}else{InkTool.InkFeltPen.prototype.drawStart.apply(this,arguments);}},strokeStart:function(_41,xp,yp,tm){if(this.tp==InkTool.InkPenType.PencilEmulated){InkTool.InkBallpointPen.prototype.strokeStart.apply(this,arguments);}else{InkTool.InkFeltPen.prototype.strokeStart.apply(this,arguments);}},strokeMove:function(_42,xp,yp,tm){if(this.tp==InkTool.InkPenType.PencilEmulated){InkTool.InkBallpointPen.prototype.strokeMove.apply(this,arguments);}else{InkTool.InkFeltPen.prototype.strokeMove.apply(this,arguments);}},strokeMoveSub:function(_43,xp,yp,_44){InkTool.InkFeltPen.prototype.strokeMoveSub.apply(this,arguments);},strokeEnd:function(_45,xp,yp,tm){if(this.tp==InkTool.InkPenType.PencilEmulated){InkTool.InkBallpointPen.prototype.strokeEnd.apply(this,arguments);}else{InkTool.InkFeltPen.prototype.strokeEnd.apply(this,arguments);}},drawEnd:function(_46){if(this.tp==InkTool.InkPenType.PencilEmulated){InkTool.InkBallpointPen.prototype.drawEnd.apply(this,arguments);}else{InkTool.InkFeltPen.prototype.drawEnd.apply(this,arguments);}},fullDrawStart:function(_47){InkTool.InkBallpointPen.prototype.fullDrawStart.apply(this,arguments);},fullStrokeStart:function(_48,xp,yp,tm){InkTool.InkBallpointPen.prototype.fullStrokeStart.apply(this,arguments);},fullStrokeMove:function(_49,xp,yp,tm){InkTool.InkBallpointPen.prototype.fullStrokeMove.apply(this,arguments);},fullStrokeEnd:function(_4a,xp,yp,tm){InkTool.InkBallpointPen.prototype.fullStrokeEnd.apply(this,arguments);},fullDrawEnd:function(_4b){InkTool.InkBallpointPen.prototype.fullDrawEnd.apply(this,arguments);},hasFullDrawMode:function(){return (this.tp==InkTool.InkPenType.PencilEmulated);},getSubInfo:function(){return "FeltPen";}});InkTool.InkNormalEraser=InkTool.InkLib.Class.create(InkTool.InkStationery,{initialize:function(){this.tp=InkTool.InkPenType.NormalEraser;this.col=new InkTool.InkColor("black");this.w=12;this.minw=8;this.maxw=16;},drawStart:function(_4c){var ctx=_4c.context;if(_4c.eraserBgColor!=null){ctx.strokeStyle=_4c.eraserBgColor.getRGBA();ctx.fillStyle=_4c.eraserBgColor.getRGBA();ctx.globalCompositeOperation="source-over";}else{ctx.strokeStyle=this.getPenColor().getRGBA();ctx.fillStyle=this.getPenColor().getRGBA();ctx.globalCompositeOperation="destination-out";}ctx.lineWidth=_4c.widthDataToDraw(this.getPenWidth());ctx.lineCap="round";ctx.lineJoin="round";},strokeStart:function(_4d,xp,yp,tm){var ctx=_4d.context;var _4e=_4d.xpDataToDraw(xp);var _4f=_4d.ypDataToDraw(yp);_4d.llastX=_4d.lastX=_4e;_4d.llastY=_4d.lastY=_4f;},strokeMove:function(_50,xp,yp,tm){var ctx=_50.context;var _51=_50.xpDataToDraw(xp);var _52=_50.ypDataToDraw(yp);var x1=(_50.lastX+_50.llastX)/2;var y1=(_50.lastY+_50.llastY)/2;var x2=_50.lastX;var y2=_50.lastY;var x3=(_50.lastX+_51)/2;var y3=(_50.lastY+_52)/2;ctx.beginPath();ctx.moveTo(x1,y1);ctx.quadraticCurveTo(x2,y2,x3,y3);if(InkTool.InkLib.Browser.Chrome){ctx.lineTo(x3+0.1,y3+0.1);}ctx.stroke();_50.llastX=_50.lastX;_50.llastY=_50.lastY;_50.lastX=_51;_50.lastY=_52;},strokeEnd:function(_53,xp,yp,tm){var ctx=_53.context;var _54=_53.xpDataToDraw(xp);var _55=_53.ypDataToDraw(yp);var x1=(_53.lastX+_53.llastX)/2;var y1=(_53.lastY+_53.llastY)/2;var x2=_53.lastX;var y2=_53.lastY;var x3=_54;var y3=_55;ctx.beginPath();ctx.moveTo(x1,y1);ctx.quadraticCurveTo(x2,y2,x3,y3);if(InkTool.InkLib.Browser.Chrome){ctx.lineTo(x3+0.1,y3+0.1);}ctx.stroke();_53.llastX=_53.lastX;_53.llastY=_53.lastY;_53.lastX=_54;_53.lastY=_55;},drawEnd:function(_56){},hasFullDrawMode:function(){return false;},getSubInfo:function(){return "NormalEraser";}});InkTool.InkCell=InkTool.InkLib.Class.create(null,{initialize:function(_1,xp,yp,_2,_3){this.m=_1;this.x=xp;this.y=yp;this.w=_2;this.t=_3;},getMode:function(){return this.m;},getX:function(){return this.x;},getY:function(){return this.y;},getWidth:function(){return this.w;},getTime:function(){return this.t;}});InkTool.InkStroke=InkTool.InkLib.Class.create(null,{initialize:function(_4){this.cs=new Array();this.st=_4.clone();},getStationery:function(){return this.st;},getColor:function(){return this.st.PenColor;},getPenType:function(){return this.st.PenType;},countCells:function(){return this.cs.length;},addCell:function(_5){this.cs.push(_5);},getCell:function(_6){if(_6<0||_6>=this.cs.length){return null;}else{return this.cs[_6];}}});InkTool.InkDrawing=InkTool.InkLib.Class.create(null,{initialize:function(){this.is=new Array();},countDrawItems:function(){return this.is.length;},addDrawItem:function(_7){this.is.push(_7);return true;},getDrawItem:function(_8){if(_8<0||_8>=this.is.length){return null;}else{return this.is[_8];}},deleteDrawItem:function(_9){this.is.splice(_9,1);return true;},clearDrawItems:function(){this.is.length=0;}});InkTool.InkDrawn=InkTool.InkLib.Class.create(InkTool.InkDrawing,{initialize:function(){this.is=new Array();}});InkTool.InkLayer=InkTool.InkLib.Class.create(null,{initialize:function(id,_a){this.Drawing=new InkTool.InkDrawing();this.Drawn=new InkTool.InkDrawn();this.ID=id;this.Zorder=_a;}});InkTool.InkPage=InkTool.InkLib.Class.create(null,{initialize:function(){this.layerList=new Array();this.layerList.push(new InkTool.InkLayer(1,100));this.currentLayerId=1;this.currentLayer=this.getLayerById(1);},countLayers:function(){return this.layerList.length;},getLayerList:function(){var _b=[];var _c=this.layerList.length;for(var _d=0;_d<_c;_d++){var _e=this.layerList[_d];_b.push({index:_d,id:_e.ID,zorder:_e.Zorder});}_b.sort(function(_f,_10){return (_10.zorder-_f.zorder);});return _b;},addLayer:function(id,_11){this.layerList.push(new InkTool.InkLayer(id,_11));return true;},getCurrentLayer:function(){return this.currentLayer;},getLayerById:function(id){var _12=this.layerList.length;for(var _13=0;_13<_12;_13++){var _14=this.layerList[_13];if(_14.ID==id){return _14;}}return null;},getLayerByIndex:function(_15){return this.layerList[_15];},deleteLayerById:function(id){var _16=this.layerList.length;for(var _17=0;_17<_16;_17++){var _18=this.layerList[_17];if(_18.ID==id){this.layerList.splice(_17,1);return true;}}return false;},getLayerByIndex:function(_19){this.layerList.splice(_19,1);return true;},clearLayers:function(){this.layerList.length=0;return true;}});InkTool.InkNote=InkTool.InkLib.Class.create(null,{initialize:function(){this.pageList=new Array();this.pageList.push(new InkTool.InkPage());},countPages:function(){return this.pageList.length;},addPage:function(){this.pageList.push(new InkTool.InkPage());return true;},addPages:function(num){for(var ct=0;ct<num;ct++){this.pageList.push(new InkTool.InkPage());}return true;},getPage:function(_1a){return this.pageList[_1a];},deletePage:function(_1b){this.pageList.splice(_1b,1);return true;},clearPages:function(){this.pageList.length=0;return true;}});InkTool.InkTabletInfo=InkTool.InkLib.Class.create(null,{initialize:function(){}});InkTool.InkData=InkTool.InkLib.Class.create(null,{initialize:function(){this.TabletInfo=new InkTool.InkTabletInfo();this.Note=new InkTool.InkNote();}});InkTool.InkRect=InkTool.InkLib.Class.create(null,{initialize:function(_1,_2,_3,_4){this.left=_1;this.top=_2;this.width=_3;this.height=_4;},clearRect:function(){this.left=0;this.top=0;this.width=0;this.height=0;},getLeft:function(){return this.left;},getTop:function(){return this.top;},getWidth:function(){return this.width;},getHeight:function(){return this.height;},getRight:function(){return this.left+this.width;},getBottom:function(){return this.top+this.height;},equalsRect:function(_5){return (this.left==_5.left&&this.top==_5.top&&this.width==_5.width&&this.height==_5.height);},copyRect:function(_6){this.left=_6.left;this.top=_6.top;this.width=_6.width;this.height=_6.height;},cloneRect:function(){return new InkTool.InkRect(this.left,this.top,this.width,this.height);},isEmpty:function(){return (this.width==0||this.height==0);},containsPoint:function(_7,_8){return (_7>=this.left&&_7<this.getRight()&&_8>=this.top&&_8<this.getBottom());},containsRect:function(_9){return (this.left<=_9.left&&this.top<=_9.top&&this.getRight()>=_9.getRight()&&this.getBottom()>=_9.getBottom());},intersectsRect:function(_a){var _b=(this.left>=_a.left)?this.left:_a.left;var _c=(this.getRight()<=_a.getRight())?this.getRight:_a.getRight();var _d=(this.top>=_a.top)?this.top:_a.top;var _e=(this.getBottom()<=_a.getBottom())?this.getBottom:_a.getBottom();return (_b<_c&&_d<_e);},andRect:function(_f){var _10=(this.left>=_f.left)?this.left:_f.left;var _11=(this.getRight()<=_f.getRight())?this.getRight:_f.getRight();if(_11<_10){_11=_10;}var _12=(this.top>=_f.top)?this.top:_f.top;var _13=(this.getBottom()<=_f.getBottom())?this.getBottom:_f.getBottom();if(_13<_12){_13=_12;}return new InkTool.InkRect(_10,_12,(_11-_10),(_13-_12));},orRect:function(_14){var _15=(this.left<=_14.left)?this.left:_14.left;var _16=(this.getRight()>=_14.getRight())?this.getRight:_14.getRight();var _17=(this.top<=_14.top)?this.top:_14.top;var _18=(this.getBottom()>=_14.getBottom())?this.getBottom:_14.getBottom();return new InkTool.InkRect(_15,_17,(_16-_15),(_18-_17));},margeRect:function(_19){if(this.isEmpty()){return _19.cloneRect();}else{if(_19.isEmpty()){return this.cloneRect();}else{return this.orRect(_19);}}},});InkTool.InkCanvasLib={List:{},Initialized:false,PreventDragAndSelect:true,DocLastX:0,DocLastY:0,DocIsDrawing:false,DocIsDrawn:false,TimerDraw:null,TimerCopy:null,InkData:null,DummyDiv:null,DummyCanvas:null,TotalDrawingTime:0,TotalDrawingCells:0,TotalCopyCount:0,initialize:function(){var _1=InkTool.InkLib;var _2=InkTool.InkCanvasLib;if(_2.Initialized){return;}_2.Initialized=true;_2.InkData=new InkTool.InkData();if(_2.PreventDragAndSelect){document.ondragstart=function(){return false;};document.onselectstart=function(){return false;};document.body.style.MozUserSelect="none";}_1.addEvent(document,"mousedown",_2.docPenDown);_1.addEvent(document,"mousemove",_2.docPenMove);_1.addEvent(document,"mouseup",_2.docPenUp);_1.addEvent(window,"resize",_2.docPenCancel);_1.addEvent(window,"scroll",_2.docPenCancel);_1.addEvent(document,"touchstart",_2.docTouchDown);_1.addEvent(document,"touchmove",_2.docTouchMove);_1.addEvent(document,"touchend",_2.docTouchUp);if(_1.needsEmulateCanvas()){_2.TimerDraw=setInterval(function(){_2.docInterval();},60);}},setPreventDragAndSelect:function(_3){InkTool.InkCanvasLib.PreventDragAndSelect=_3;},getElementOfPosition:function(_4){var _5=InkTool.InkLib.convertPositionEventToAbsolute(_4);var _6=document.elementFromPoint(_5.left,_5.top);return _6;},docInterval:function(){var _7=InkTool.InkCanvasLib;for(var _8 in _7.List){var _9=_7.List[_8];_9.doInterval();}},docTimeout:function(){var _a=InkTool.InkCanvasLib;if(_a.DocIsDrawing){return;}for(var _b in _a.List){var _c=_a.List[_b];_c.doTimeout();}_a.TotalCopyCount++;},docPenDown:function(e){var _d=InkTool.InkLib;var _e=InkTool.InkCanvasLib;if(_e.DocIsDrawing){return;}var _f=_d.getLastEvent(e);var _10=_d.getButtonStatus(_f);if(_10!=1){return;}var _11=_d.getEventPosition(_f);_e.doPenDown(_11);},docTouchDown:function(e){var _12=InkTool.InkLib;var _13=InkTool.InkCanvasLib;if(_13.DocIsDrawing){return;}var evt=_12.getLastEvent(e);var _14=_12.getTouchEventPosition(evt,0);if(_13.doPenDown(_14)){_12.preventDefaultActionOfEvent(evt,true,true);}},doPenDown:function(pos){var _15=InkTool.InkLib;var _16=InkTool.InkCanvasLib;var _17=false;if(isNaN(pos.left)||isNaN(pos.top)){return _17;}_16.DocIsDrawing=true;_16.DocIsDrawn=false;if(_16.TimerCopy!=null){clearTimeout(_16.TimerCopy);_16.TimerCopy=null;}var _18=_16.getElementOfPosition(pos);for(var _19 in _16.List){var _1a=_16.List[_19];if(_1a.penDown(_18,pos)){_17=true;}}_16.DocLastX=pos.left;_16.DocLastY=pos.top;if(!_15.needsEmulateCanvas()){_16.docInterval();}return _17;},docPenMove:function(e){var _1b=InkTool.InkLib;var _1c=InkTool.InkCanvasLib;var evt=_1b.getLastEvent(e);var _1d=_1b.getButtonStatus(evt);var _1e=_1b.getEventPosition(evt);if(!_1c.DocIsDrawing){if(_1b.Browser.IE&&_1d==1){_1c.doPenDown(_1e);}else{return;}}else{if(_1d==0){_1c.doPenUp(_1e,1);return;}}_1c.doPenMove(_1e);},docTouchMove:function(e){var _1f=InkTool.InkLib;var _20=InkTool.InkCanvasLib;var evt=_1f.getLastEvent(e);var _21=_1f.getTouchEventPosition(evt,0);if(!_20.DocIsDrawing){_20.doPenDown(_21);}if(_20.doPenMove(_21)){_1f.preventDefaultActionOfEvent(evt,true,true);}},doPenMove:function(pos){var _22=InkTool.InkLib;var _23=InkTool.InkCanvasLib;var _24=false;if(isNaN(pos.left)||isNaN(pos.top)){return _24;}if(_23.TimerCopy!=null){clearTimeout(_23.TimerCopy);_23.TimerCopy=null;}var _25=_23.getElementOfPosition(pos);for(var _26 in _23.List){var _27=_23.List[_26];if(_27.penMove(_25,pos)){_24=true;}}_23.DocLastX=pos.left;_23.DocLastY=pos.top;_23.DocIsDrawn=true;if(!_22.needsEmulateCanvas()){_23.docInterval();}return _24;},docPenUp:function(e){var _28=InkTool.InkLib;var _29=InkTool.InkCanvasLib;if(_29.DocIsDrawing==false){return;}var evt=_28.getLastEvent(e);var _2a=_28.getButtonStatus(evt);if(_2a!=1){return;}var _2b=_28.getEventPosition(evt);_29.doPenUp(_2b,0);},docPenCancel:function(e){var _2c=InkTool.InkLib;var _2d=InkTool.InkCanvasLib;if(!_2d.DocIsDrawing||_2d.DocIsDrawn){return;}var evt=_2c.getLastEvent(e);var _2e=_2c.getEventPosition(evt);_2d.doPenUp(_2e,1);},docTouchUp:function(e){var _2f=InkTool.InkLib;var _30=InkTool.InkCanvasLib;if(!_30.DocIsDrawing){return;}var evt=_2f.getLastEvent(e);var _31=_2f.getTouchEventPosition(evt,0);if(_30.doPenUp(_31,1)){_2f.preventDefaultActionOfEvent(evt,true,true);}},doPenUp:function(pos,_32){var _33=InkTool.InkLib;var _34=InkTool.InkCanvasLib;var _35=false;if(_32==0&&(isNaN(pos.left)||isNaN(pos.top))){return _35;}_34.DocIsDrawing=false;_34.DocIsDrawn=false;if(_34.TimerCopy!=null){clearTimeout(_34.TimerCopy);_34.TimerCopy=null;}for(var _36 in _34.List){var _37=_34.List[_36];if(_37.penUp(pos,_32)){_35=true;}}if(_32==0){_34.DocLastX=pos.left;_34.DocLastY=pos.top;}if(!_33.needsEmulateCanvas()){_34.docInterval();}_34.TimerCopy=setTimeout(function(){_34.docTimeout();},250);return _35;},getCanvas:function(id){return InkTool.InkCanvasLib.List[id];},getDrawingCanvas:function(id){return InkTool.InkCanvasLib.List[id];},createCanvas:function(id){var _38=InkTool.InkLib;var _39=InkTool.InkCanvasLib;var _3a=_38.getElementById(id);if(_3a==null){return null;}_39.initialize();var _3b=new InkTool.InkCanvas(_3a,0,0,0);_39.List[id]=_3b;return _3b;},createFepCanvas:function(id){var _3c=InkTool.InkLib;var _3d=InkTool.InkCanvasLib;var _3e=_3c.getElementById(id);if(_3e==null){return null;}_3d.initialize();var _3f=new InkTool.InkCanvas(_3e,0,0,1);_3d.List[id]=_3f;return _3f;},relayoutCanvas:function(id){var _40=InkTool.InkCanvasLib;var _41=_40.List[id];if(_41==null){return false;}return _41.relayout();},createDummyCanvas:function(_42,_43){if(InkTool.InkCanvasLib.DummyDiv==null||InkTool.InkCanvasLib.DummyCanvas==null){var _44=document.createElement("div");_44.id="inkTool_dummy_canvas_div";_44.onselectstart=function(){return false;};_44.ondragstart=function(){return false;};_44.style.position="absolute";_44.style.left="0px";_44.style.top="0px";_44.style.visibility="hidden";_44.style.padding="0px";_44.width=_42;_44.height=_43;InkTool.InkCanvasLib.DummyDiv=_44;var _45=document.createElement("canvas");_45.id="inktool_dummy_canvas";_45.onselectstart=function(){return false;};_45.ondragstart=function(){return false;};_45.width=_42;_45.height=_43;if(InkTool.InkLib.needsEmulateCanvas()){G_vmlCanvasManager.initElement(_45);}InkTool.InkCanvasLib.DummyCanvas=_45;_44.appendChild(_45);document.body.appendChild(_44);return _45;}else{var _44=InkTool.InkCanvasLib.DummyDiv;_44.width=_42;_44.height=_43;var _45=InkTool.InkCanvasLib.DummyCanvas;_45.width=_42;_45.height=_43;return _45;}},releaseDummyCanvas:function(){InkTool.InkCanvasLib.createDummyCanvas(1,1);},getTotalDrawingTime:function(){return InkTool.InkCanvasLib.TotalDrawingTime;},getTotalDrawingCells:function(){return InkTool.InkCanvasLib.TotalDrawingCells;},getAveDrawingTime:function(){var _46=InkTool.InkCanvasLib.TotalDrawingTime;var _47=InkTool.InkCanvasLib.TotalDrawingCells;return _46/_47;},getTotalCopyCount:function(){return InkTool.InkCanvasLib.TotalCopyCount;},doNothing:function(){return false;},sendInk:function(id,url){var _48=InkTool.InkCanvasLib.getCanvas(id);if(_48==null){return;}if(_48.countDrawItems()==0){return;}var _49=_48.saveInk();this.sendString("InkData="+_49,url);},sendInkShort:function(id,url){var _4a=InkTool.InkCanvasLib.getCanvas(id);if(_4a==null){return;}if(_4a.countDrawItems()==0){return;}var _4b=_4a.saveInkShort();this.sendString("InkData="+_4b,url);},sendString:function(str,url,_4c){var _4d=InkTool.InkCanvasLib.getXmlHttpObject();_4d.onreadystatechange=function(){if(_4d.readyState==4&&_4d.status==200){try{if(typeof (_4c)==="function"){_4c(_4d.responseText);}else{alert("resp="+_4d.responseText);}}catch(e){alert("request parse error:"+e);}}else{if(_4d.readyState==4){alert("status error:"+_4d.status+":resp="+_4d.responseText);}}};try{_4d.open("POST",url,true);_4d.setRequestHeader("CONTENT-TYPE","application/x-www-form-urlencoded");_4d.send(str);}catch(e){alert("http send error:"+e);}},getXmlHttpObject:function(){var _4e=null;try{_4e=new XMLHttpRequest();}catch(e){try{_4e=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){_4e=new ActiveXObject("Microsoft.XMLHTTP");}}return _4e;},Dummy:null};InkTool.InkCanvasBase=InkTool.InkLib.Class.create(null,{initialize:function(_4f,_50,_51,_52){var _53=InkTool.InkLib;var _54=InkTool.InkCanvasLib;var _55=_53.getBrowserTypeName();var _56="In";var _57="a"+"mp";if(_4f==null){this.Initialized=false;return;}var _58=_53.getElementAbsoluteLocation(_4f);var _59=_53.getElementSize(_4f);var _5a=_51;if(_5a==0){_5a=_53.getStyleOfElement(_4f,"z-index",null);}this.Version="1.0";this.drawingMode=0;this.replayMode=0;_4f.onselectstart=function(){return false;};_4f.ondragstart=function(){return false;};this.id=_4f.id;this.zorder=_51;this.ezindex=_5a;this.dcanvas=document.createElement("canvas");this.dcanvas.id="inktool_"+this.id+"_draw";this.dcanvas.onselectstart=function(){return false;};this.dcanvas.ondragstart=function(){return false;};this.dcanvas.style.position="absolute";this.dcanvas.style.left=""+_58.left+"px";this.dcanvas.style.top=""+_58.top+"px";this.dcanvas.width=_59.width;this.dcanvas.height=_59.height;if(_5a!==null){this.dcanvas.style.zIndex=_5a;}_53.addElementAfter(_4f,this.dcanvas);if(_53.needsEmulateCanvas()){G_vmlCanvasManager.initElement(this.dcanvas);}this.dcontext=this.dcanvas.getContext("2d");this.bcanvas=document.createElement("canvas");this.bcanvas.id="inktool_"+this.id+"_back";this.bcanvas.onselectstart=function(){return false;};this.bcanvas.ondragstart=function(){return false;};this.bcanvas.style.position="absolute";this.bcanvas.style.left=""+_58.left+"px";this.bcanvas.style.top=""+_58.top+"px";this.bcanvas.width=_59.width;this.bcanvas.height=_59.height;if(_5a!==null){this.bcanvas.style.zIndex=_5a;}_53.addElementAfter(_4f,this.bcanvas);if(_53.needsEmulateCanvas()){G_vmlCanvasManager.initElement(this.bcanvas);}this.slayer=null;this.rect=new InkTool.InkRect(_58.left,_58.top,_59.width,_59.height);this.arrayCell=new Array();this.arrayCopy=new Array();this.llastX=0;this.llastY=0;this.llastT=0;this.lastX=0;this.lastY=0;this.lastT=0;this.moveCount=0;this.testTimeStr="";this.lastV1=0;this.lastV2=0;this.lastV3=0;this.lastV4=0;this.lastV5=0;this.lastMoveX=0;this.lastMoveY=0;this.isDrawing=false;this.drawingContext=new InkTool.DrawingContext(null,0,0,1);this.autoZoomRatio=true;this.inkWidth=_59.width;this.inkHeight=_59.height;this.backColor=new InkTool.InkColor("rgba(0, 0, 0, 0.0)");this.pen=null;this.drawingStroke=false;this.currentStroke=null;this.pageIndex=_50;if(this.pageIndex==0){this.pageIndex=_54.InkData.Note.countPages()+1;}this.penDownFunc=null;this.penMoveFunc=null;this.penUpFunc=null;this.penDownInnerFunc=null;this.penMoveInnerFunc=null;this.penUpInnerFunc=null;this.startTime=null;this.endTime=null;var _53=InkTool.InkLib;var _54=InkTool.InkCanvasLib;if(this.pageIndex>0){var _5b=_54.InkData.Note.countPages();if(_5b<this.pageIndex){_54.InkData.Note.addPages(this.pageIndex-_5b);}this.currentPage=_54.InkData.Note.getPage(this.pageIndex-1);this.currentLayer=this.currentPage.getCurrentLayer();this.currentDrawing=this.currentLayer.Drawing;}else{this.currentPage=null;this.currentLayer=null;this.currentDrawing=null;}this.clearDrawingCanvas();this.drawingBuffer=new InkTool.InkDrawing();this.drawingMode=1;this.replayMode=0;this.replaySpeed=1;this.replayMaxInterval=1000;this.replayStrokeIndex=0;this.replayCellIndex=0;this.replayStartTime=0;this.replayTargetBaseTime=0;this.replayLastTime=0;this.replayHandler=null;this.replayTimer=null;},getId:function(){return this.id;},getNumStrokes:function(){return this.countDrawItems();},getMaxStrokes:function(){return this.drawingBuffer.countDrawItems();},setDrawingMode:function(_5c){this.drawingMode=_5c;if(_5c==0&&this.isDrawing){this.isDrawing=false;this.doPenUp({"left":this.lastMoveX,"top":this.lastMoveY});}},getDrawingMode:function(){return this.drawingMode;},setHandler:function(_5d,_5e){if(_5d=="pendown"){this.penDownFunc=_5e;}else{if(_5d=="penmove"){this.penMoveFunc=_5e;}else{if(_5d=="penup"){this.penUpFunc=_5e;}}}},setAutoZoomRatio:function(){this.autoZoomRatio=true;this.calcAutoZoomRatio();this.redrawCurrentLayerByInk();},calcAutoZoomRatio:function(){var _5f=this.rect.getWidth()/this.inkWidth;var _60=this.rect.getHeight()/this.inkHeight;if(_5f<=_60){this.drawingContext.setZoomRatio(_5f);}else{this.drawingContext.setZoomRatio(_60);}this.drawingContext.setOffset(0,0);},setZoomRatio:function(_61){this.autoZoomRatio=false;this.drawingContext.setZoomRatio(_61);this.inkWidth=Math.round(this.rect.getWidth()/this.drawingContext.getZoomRatio());this.inkHeight=Math.round(this.rect.getHeight()/this.drawingContext.getZoomRatio());this.redrawCurrentLayerByInk();},setOffset:function(_62,_63){this.autoZoomRatio=false;this.drawingContext.setOffset(_62,_63);this.redrawCurrentLayerByInk();},setPen:function(pen){this.pen=pen;return true;},relayout:function(){var _64=InkTool.InkLib;var _65=InkTool.InkCanvasLib;var _66=_64.getElementById(this.id);if(_66==null){return false;}var _67=_64.getElementAbsoluteLocation(_66);var _68=_64.getElementSize(_66);var _69=this.zorder;if(_69==0){_69=_64.getStyleOfElement(_66,"z-index",null);}this.bcanvas.style.left=""+_67.left+"px";this.bcanvas.style.top=""+_67.top+"px";if(this.bcanvas.width!=_68.width||this.bcanvas.height!=_68.height){this.bcanvas.width=_68.width;this.bcanvas.height=_68.height;this.redrawCurrentLayerByInk();}this.bcanvas.style.zIndex=_69;this.dcanvas.style.left=""+_67.left+"px";this.dcanvas.style.top=""+_67.top+"px";this.dcanvas.width=_68.width;this.dcanvas.height=_68.height;this.dcanvas.style.zIndex=_69;if(this.slayer!=null){this.slayer.style.left=""+_67.left+"px";this.slayer.style.top=""+_67.top+"px";this.slayer.width=_68.width;this.slayer.height=_68.height;this.slayer.style.zIndex=_69;}this.rect=new InkTool.InkRect(_67.left,_67.top,_68.width,_68.height);this.inkWidth=Math.round(_68.width/this.drawingContext.getZoomRatio());this.inkHeight=Math.round(_68.height/this.drawingContext.getZoomRatio());return true;},display:function(_6a){var _6b=InkTool.InkLib;var _6c=InkTool.InkCanvasLib;if(_6a){_6b.showElement(this.bcanvas);_6b.showElement(this.dcanvas);if(this.slayer!=null){_6b.showElement(this.slayer);}}else{_6b.hideElement(this.bcanvas);_6b.hideElement(this.dcanvas);if(this.slayer!=null){_6b.hideElement(this.slayer);}}},clearInk:function(){this.clearInkOfCurrentLayer();},undoInk:function(){this.undoInkOfCurrentLayer();},redoInk:function(){this.redoInkOfCurrentLayer();},saveInkObject:function(){return this.saveInkObjectShort();},saveInk:function(){var _6d=this.saveInkObject();var _6e=JSON.stringify(_6d);return _6e;},saveInkObjectLong:function(){var _6f=this.currentDrawing.clone();_6f.w=this.inkWidth;_6f.h=this.inkHeight;_6f.v=this.Version;return _6f;},saveInkLong:function(){var _70=this.saveInkObjectLong();var _71=JSON.stringify(_70);return _71;},saveInkObjectShort:function(){var _72=new Object();_72.w=this.inkWidth;_72.h=this.inkHeight;_72.v=this.Version;_72.is=new Array();savesrc=this.currentDrawing.clone();for(var _73=0;_73<savesrc.is.length;_73++){var _74=new Object();var _75=savesrc.is[_73];var _76=0;_74.st=_75.st;_74.cs=new Array();for(var _77=0;_77<_75.cs.length;_77++){var _78=_75.cs[_77];if(_78.m==2){continue;}if(_77==0){_76=_78.t;}var _79=_78.x+"|"+_78.y+"|"+(_78.t-_76);_74.cs.push(_79);}_74.t=_76;_72.is.push(_74);}return _72;},saveInkShort:function(){var _7a=this.saveInkObjectShort();var _7b=JSON.stringify(_7a);return _7b;},loadInkObject:function(_7c){this.loadInkShortObject(_7c);},loadInk:function(_7d){this.loadInkShort(_7d);},loadInkLong:function(_7e){var _7f=JSON.parse(_7e);this.loadInkLogObject(_7f);},loadInkLongObject:function(_80){var _81=new InkTool.InkDrawing();for(var _82=0;_82<_80.is.length;_82++){var _83=_80.is[_82];var _84;var _85=_83.st.tp;switch(_85){case InkTool.InkPenType.BallpointPen:case "pn01":_84=new InkTool.InkBallpointPen();break;case InkTool.InkPenType.FeltPen:case InkTool.InkPenType.BrushPen:case "pn02":_84=new InkTool.InkFeltPen();break;case InkTool.InkPenType.NormalEraser:case "er02":_84=new InkTool.InkNormalEraser();break;case InkTool.InkPenType.Pencil:case InkTool.InkPenType.PencilEmulated:case "cpn1":case "cpn2":_84=new InkTool.InkPencil();break;default:_84=new InkTool.InkStationery();break;}_84.setPenColor(new InkTool.InkColor(_83.st.col));_84.setPenWidth(_83.st.w);_84.setPenMinWidth(_83.st.minw);_84.setPenMaxWidth(_83.st.maxw);var _86=new InkTool.InkStroke(_84);for(var _87=0;_87<_83.cs.length;_87++){var _88=_83.cs[_87];var _89=new InkTool.InkCell(_88.m,_88.x,_88.y,_88.w,_88.t);_86.addCell(_89);}_81.addDrawItem(_86);}this.inkWidth=_80.w;this.inkHeight=_80.h;this.loadInkObjectSub(_81);},loadInkShort:function(_8a){var _8b=JSON.parse(_8a);this.loadInkShortObject(_8b);},loadInkShortObject:function(_8c){var _8d=new InkTool.InkDrawing();for(var _8e=0;_8e<_8c.is.length;_8e++){var _8f=_8c.is[_8e];var _90;var _91=_8f.st.tp;switch(_91){case InkTool.InkPenType.BallpointPen:case "pn01":_90=new InkTool.InkBallpointPen();break;case InkTool.InkPenType.FeltPen:case InkTool.InkPenType.BrushPen:case "pn02":_90=new InkTool.InkFeltPen();break;case InkTool.InkPenType.NormalEraser:case "er02":_90=new InkTool.InkNormalEraser();break;case InkTool.InkPenType.Pencil:case InkTool.InkPenType.PencilEmulated:case "cpn1":case "cpn2":_90=new InkTool.InkPencil();break;default:_90=new InkTool.InkStationery();break;}_90.setPenColor(new InkTool.InkColor(_8f.st.col));_90.setPenWidth(_8f.st.w);_90.setPenMinWidth(_8f.st.minw);_90.setPenMaxWidth(_8f.st.maxw);var _92=new InkTool.InkStroke(_90);var _93=_8f.t;var _94=_8f.st.w;for(var _95=0;_95<_8f.cs.length;_95++){var _96=_8f.cs[_95];var _97=(_95==0)?0:1;var _98=_96.split("|");var xp=Number(_98[0]);var yp=Number(_98[1]);var tm=_93+Number(_98[2]);var _99=new InkTool.InkCell(_97,xp,yp,_94,tm);_92.addCell(_99);if(_95==_8f.cs.length-1){var _9a=new InkTool.InkCell(2,xp,yp,_94,tm);_92.addCell(_9a);}}_8d.addDrawItem(_92);}this.inkWidth=_8c.w;this.inkHeight=_8c.h;this.loadInkObjectSub(_8d);},loadInkObjectSub:function(_9b){if(this.autoZoomRatio){this.calcAutoZoomRatio();}var _9c=this.currentLayer;if(_9c!=null){_9c.Drawing=_9b.clone();this.currentDrawing=_9c.Drawing;this.drawingBuffer=this.currentDrawing.clone();}this.redrawCurrentLayerByInk();},saveImage:function(){if(typeof (this.bcanvas.toDataURL)=="function"){var _9d=[];for(var _9e=0;_9e<arguments.length;_9e++){_9d[_9e]=arguments[_9e];}try{return this.bcanvas.toDataURL.apply(this.bcanvas,_9d);}catch(e){alert("saveImage error:"+e);return null;}}else{return null;}},saveImageWithBGColor:function(){if(typeof (this.bcanvas.toDataURL)=="function"){var dpi=96;var _9f=arguments[0];var _a0=[];for(var _a1=1;_a1<arguments.length;_a1++){_a0[_a1-1]=arguments[_a1];}return this.saveImageSub(dpi,_9f,_a0);}else{return null;}},saveImageDPI:function(){if(typeof (this.bcanvas.toDataURL)=="function"){var dpi=arguments[0];var _a2=[];for(var _a3=1;_a3<arguments.length;_a3++){_a2[_a3-1]=arguments[_a3];}return this.saveImageSub(dpi,null,_a2);}else{return null;}},saveImageDPIWithBGColor:function(){if(typeof (this.bcanvas.toDataURL)=="function"){var dpi=arguments[0];var _a4=arguments[1];var _a5=[];for(var _a6=2;_a6<arguments.length;_a6++){_a5[_a6-2]=arguments[_a6];}return this.saveImageSub(dpi,_a4,_a5);}else{return null;}},saveImageSub:function(dpi,_a7,_a8){try{var _a9=96;var _aa=Math.round(this.rect.getWidth()*dpi/_a9);var _ab=Math.round(this.rect.getHeight()*dpi/_a9);var _ac=InkTool.InkCanvasLib.createDummyCanvas(_aa,_ab);var _ad=dpi/_a9;var ctx=_ac.getContext("2d");ctx.clearRect(0,0,_aa,_ab);if(_a7!=null){var _ae=new InkTool.InkColor(_a7);ctx.fillStyle=_ae.getRGBA();ctx.fillRect(0,0,_aa,_ab);}var _af=this.currentLayer;if(_af!=null){var _b0=new InkTool.DrawingContext(ctx,0,0,_ad);if(_a7!=null){var _ae=new InkTool.InkColor(_a7);_b0.eraserBgColor=_ae;}var _b1=_af.Drawing;this.drawInkTo(_b0,_b1);}var _b2=_ac.toDataURL.apply(_ac,_a8);InkTool.InkCanvasLib.releaseDummyCanvas();return _b2;}catch(e){alert("saveImageSub error:"+e);return null;}},replayInk:function(_b3,_b4,_b5){if(this.replayMode!=0){return false;}var _b6=this.currentDrawing;var _b7=_b6.countDrawItems();if(_b7==0){return false;}var _b8=_b6.getDrawItem(0);if(_b8==null||_b8.countCells()==0){return false;}var _b9=_b8.getCell(0);if(_b9==null){return false;}this.replayMode=1;this.replaySpeed=_b3;this.replayMaxInterval=_b4;this.replayStrokeIndex=0;this.replayCellIndex=0;var _ba=new Date();this.replayStartTime=_ba.getTime();this.replayTargetBaseTime=_b9.getTime();this.replayLastTime=0;this.replayHandler=_b5;var _bb=this.drawingContext;var _bc=new InkTool.DrawingContext(null,_bb.getOffsetX(),_bb.getOffsetY(),_bb.getZoomRatio());var _bd=this;this.clearScreen();this.replayTimer=setInterval(function(){var _be=new Date();var _bf=_be.getTime();var _c0=_bd.replayTargetBaseTime+Math.round((_bf-_bd.replayStartTime)*_bd.replaySpeed);var _c1=_b6.getDrawItem(_bd.replayStrokeIndex);var _c2=_c1.getStationery();var _c3,ctx;if(_c2.hasFullDrawMode()===false){_c3=_bd.bcanvas;ctx=_c3.getContext("2d");}else{_c3=_bd.dcanvas;ctx=_bd.dcontext;}_bc.context=ctx;_c2.drawStart(_bc);var _c4=false;while(true){var _c5=_c1.getCell(_bd.replayCellIndex);var _c6=_c1.countCells();var _c7=_c5.getTime();if(_c7>_c0){if(_bf>=_bd.replayLastTime+_bd.replayMaxInterval){_bd.replayTargetBaseTime+=(_c7-_c0);}else{break;}}_bd.replayLastTime=_bf;var xp=_c5.getX();var yp=_c5.getY();var tm=_c5.getTime();if(_bd.replayCellIndex==0){_c2.strokeStart(_bc,xp,yp,tm);}else{if(_bd.replayCellIndex<_c6-1){_c2.strokeMove(_bc,xp,yp,tm);}else{_c2.strokeEnd(_bc,xp,yp,tm);}}_bd.replayCellIndex++;if(_bd.replayCellIndex>=_c6){_c2.drawEnd(_bc);if(_c2.hasFullDrawMode()){var _c8=_bd.bcanvas;var _c9=_c8.getContext("2d");var _ca=new InkTool.DrawingContext(_c9,_bb.getOffsetX(),_bb.getOffsetY(),_bb.getZoomRatio());_c2.fullDrawStart(_ca);for(var _cb=0;_cb<_c6;_cb++){var _cc=_c1.getCell(_cb);var xp=_cc.getX();var yp=_cc.getY();var tm=_cc.getTime();if(_cb==0){_c2.fullStrokeStart(_ca,xp,yp,tm);}else{if(_cb<_c6-1){_c2.fullStrokeMove(_ca,xp,yp,tm);}else{_c2.fullStrokeEnd(_ca,xp,yp,tm);}}}_c2.fullDrawEnd(_ca);_bd.clearDrawingCanvas();}_bd.replayStrokeIndex++;_bd.replayCellIndex=0;if(_bd.replayStrokeIndex>=_b7){_c4=true;break;}_c1=_b6.getDrawItem(_bd.replayStrokeIndex);_c2=_c1.getStationery();if(_c2.hasFullDrawMode()===false){_c3=_bd.bcanvas;ctx=_c3.getContext("2d");}else{_c3=_bd.dcanvas;ctx=_bd.dcontext;}_bc.context=ctx;_c2.drawStart(_bc);}}if(_c4){if(_bd.replayTimer!=null){clearInterval(_bd.replayTimer);_bd.replayTimer=null;}_bd.replayMode=0;if(_bd.replayHandler!=null){_bd.replayHandler(_bd,0);}}else{_c2.drawEnd(_bc);}},60);return true;},stopReplay:function(){if(this.replayMode==0){return;}if(this.replayTimer!=null){clearInterval(this.replayTimer);this.replayTimer=null;}this.replayMode=0;if(this.replayHandler!=null){this.replayHandler(this,1);}this.redrawCurrentLayerByInk();},changeReplay:function(_cd,_ce){},isReplaying:function(){return (this.replayMode!=0);},getReplayCurrentStroke:function(){if(this.replayMode==0){return -1;}else{return this.replayStrokeIndex;}},getReplayMaxStroke:function(){return this.getNumStrokes();},isCanvasTag:function(_cf){var _d0=_cf;var tid=(_cf?_cf.id:"");if(InkTool.InkLib.needsEmulateCanvas()){if(this.id===tid){return true;}var _d1=null;while(_cf!==null){if(_cf.tagName===undefined){return false;}var _d2=_cf.tagName.toLowerCase();if(_d2=="body"){return false;}else{if(_d2=="canvas"){_d1=_cf;break;}else{if(this.id===_cf.id){return true;}else{if(this.slayer!=null&&this.slayer.id===_cf.id){return true;}}}}_cf=_cf.parentNode;}if(!_d1){return false;}if(this.dcanvas.id===_d1.id||this.bcanvas.id===_d1.id){return true;}else{return false;}}else{return (this.id===tid||this.dcanvas.id===tid||this.bcanvas.id===tid);}},convertPositionElementToCanvas:function(_d3,pos){return {"left":(pos.left/_d3.getZoomRatio())+_d3.getOffsetX(),"top":(pos.top/_d3.getZoomRatio())+_d3.getOffsetY()};},convertPositionCanvasToElement:function(_d4,pos){return {"left":(pos.left-_d4.getOffsetX())*_d4.getZoomRatio(),"top":(pos.top-_d4.getOffsetY())*_d4.getZoomRatio()};},penDown:function(_d5,pos){if(this.drawingMode==0||this.pen==null||this.replayMode!=0){return false;}var _d6=InkTool.InkLib;var _d7=InkTool.InkCanvasLib;var _d8=this.dcanvas;var _d9=_d6.convertPositionDocumentToElement(pos,_d8);_d9=this.convertPositionElementToCanvas(this.drawingContext,_d9);var _da=false;if(this.isDrawing){this.isDrawing=false;this.doPenUp({"left":this.lastMoveX,"top":this.lastMoveY});_da=true;}if(this.isCanvasTag(_d5)){this.isDrawing=true;this.doPenDown(_d9);_da=true;}this.lastMoveX=_d9.left;this.lastMoveY=_d9.top;return _da;},doPenDown:function(_db){this.startTime=new Date();var tm=this.startTime.getTime();this.arrayCell.push({"xp":_db.left,"yp":_db.top,"tm":tm,"stat":0});this.currentStroke=new InkTool.InkStroke(this.pen);if(this.currentDrawing!=null){this.currentDrawing.addDrawItem(this.currentStroke);}var _dc=new InkTool.InkCell(0,_db.left,_db.top,this.pen.getPenWidth(),tm);if(_dc!=null){this.currentStroke.addCell(_dc);}if(this.penDownInnerFunc!=null){this.penDownInnerFunc(_db);}if(this.penDownFunc!=null){this.penDownFunc(this,_db);}},penMove:function(_dd,pos){if(this.drawingMode==0||this.pen==null||this.replayMode!=0){return false;}var _de=InkTool.InkLib;var _df=InkTool.InkCanvasLib;var _e0=this.dcanvas;var _e1=_de.convertPositionDocumentToElement(pos,_e0);_e1=this.convertPositionElementToCanvas(this.drawingContext,_e1);var _e2=false;var _e3=this.isCanvasTag(_dd);if(this.isDrawing==false){if(_e3==false){this.lastMoveX=_e1.left;this.lastMoveY=_e1.top;return false;}this.isDrawing=true;this.doPenDown({"left":this.lastMoveX,"top":this.lastMoveY});}var _e4=new Date();var tm=_e4.getTime();this.arrayCell.push({"xp":_e1.left,"yp":_e1.top,"tm":tm,"stat":1});var _e5=new InkTool.InkCell(1,_e1.left,_e1.top,this.pen.getPenWidth(),tm);if(_e5!=null){this.currentStroke.addCell(_e5);}if(this.penMoveInnerFunc!=null){this.penMoveInnerFunc(_e1);}if(this.penMoveFunc!=null){this.penMoveFunc(this,_e1);}_e2=true;if(_e3==false){if(this.isDrawing==true){this.isDrawing=false;this.doPenUp(_e1);}}this.lastMoveX=_e1.left;this.lastMoveY=_e1.top;return _e2;},penUp:function(pos,_e6){if(this.drawingMode==0||this.pen==null||this.replayMode!=0){return false;}var _e7=InkTool.InkLib;var _e8=InkTool.InkCanvasLib;var _e9=this.dcanvas;var _ea=false;var _eb;if(_e6==0){_eb=_e7.convertPositionDocumentToElement(pos,_e9);_eb=this.convertPositionElementToCanvas(this.drawingContext,_eb);this.lastMoveX=_eb.left;this.lastMoveY=_eb.top;}else{_eb={"left":this.lastMoveX,"top":this.lastMoveY};}if(this.isDrawing){this.isDrawing=false;this.doPenUp(_eb);_ea=true;}return _ea;},doPenUp:function(_ec){this.endTime=new Date();var tm=this.endTime.getTime();this.arrayCell.push({"xp":_ec.left,"yp":_ec.top,"tm":tm,"stat":2});var _ed=new InkTool.InkCell(2,_ec.left,_ec.top,this.pen.getPenWidth(),tm);if(_ed!=null){this.currentStroke.addCell(_ed);}var _ee=(this.startTime&&this.startTime.getTime)?this.startTime.getTime():0;var _ef=(this.endTime&&this.endTime.getTime)?this.endTime.getTime():0;InkTool.InkCanvasLib.TotalDrawingTime+=(_ef-_ee);InkTool.InkCanvasLib.TotalDrawingCells+=this.currentStroke.countCells();if(this.currentDrawing!=null){this.drawingBuffer=this.currentDrawing.clone();}if(this.penUpInnerFunc!=null){this.penUpInnerFunc(_ec);}if(this.penUpFunc!=null){this.penUpFunc(this,_ec);}},clearInkOfCurrentLayer:function(){this.currentLayer.Drawing.clearDrawItems();this.drawingBuffer.clearDrawItems();this.clearScreen();return true;},undoInkOfCurrentLayer:function(){var _f0=this.currentLayer.Drawing;var num=_f0.countDrawItems();if(num==0){return false;}_f0.deleteDrawItem(num-1);this.redrawCurrentLayerByInk();return true;},redoInkOfCurrentLayer:function(){var _f1=this.currentLayer.Drawing;var num=_f1.countDrawItems();var _f2=this.drawingBuffer.countDrawItems();if(num>=_f2){return false;}_f1.addDrawItem(this.drawingBuffer.getDrawItem(num));this.redrawCurrentLayerByInk();return true;},countDrawItems:function(){var _f3=this.currentLayer.Drawing;return _f3.countDrawItems();},clearScreen:function(){var _f4=this.bcanvas.getContext("2d");_f4.clearRect(0,0,this.rect.getWidth(),this.rect.getHeight());if(this.isDrawing!==true){this.arrayCell.length=0;this.arrayCopy.length=0;this.clearDrawingCanvas();}},redrawCurrentLayerByInk:function(){var _f5=InkTool.InkLib;var _f6=this.currentLayer;if(_f6==null){return false;}this.clearScreen();var _f7,ctx;_f7=this.bcanvas;ctx=_f7.getContext("2d");var _f8=this.drawingContext;_f8.context=ctx;var _f9=_f6.Drawing;return this.drawInkTo(_f8,_f9);},drawInkTo:function(_fa,_fb){var num=_fb.countDrawItems();for(var _fc=0;_fc<num;_fc++){var _fd=_fb.getDrawItem(_fc);var _fe=_fd.getStationery();if(_fe.hasFullDrawMode()){_fe.fullDrawStart(_fa);}else{_fe.drawStart(_fa);}var _ff=_fd.countCells();for(var _100=0;_100<_ff;_100++){var _101=_fd.getCell(_100);var xp=_101.getX();var yp=_101.getY();var tm=_101.getTime();if(_100==0){if(_fe.hasFullDrawMode()){_fe.fullStrokeStart(_fa,xp,yp,tm);}else{_fe.strokeStart(_fa,xp,yp,tm);}}else{if(_100<_ff-1){if(_fe.hasFullDrawMode()){_fe.fullStrokeMove(_fa,xp,yp,tm);}else{_fe.strokeMove(_fa,xp,yp,tm);}}else{if(_fe.hasFullDrawMode()){_fe.fullStrokeEnd(_fa,xp,yp,tm);}else{_fe.strokeEnd(_fa,xp,yp,tm);}}}}if(_fe.hasFullDrawMode()){_fe.fullDrawEnd(_fa);}else{_fe.drawEnd(_fa);}}return true;},clearDrawingCanvas:function(){var ctx=this.dcanvas.getContext("2d");ctx.clearRect(0,0,this.rect.getWidth(),this.rect.getHeight());if(InkTool.InkLib.needsEmulateCanvas()){ctx.strokeStyle="rgba(255,255,255,0.01)";ctx.fillStyle="rgba(255,255,255,0.01)";ctx.globalCompositeOperation="source-over";ctx.fillRect(0,0,this.rect.getWidth(),this.rect.getHeight());}},doInterval:function(){var _102=InkTool.InkLib;var _103=InkTool.InkCanvasLib;if(this.pen==null){return;}var _104,ctx;if(this.pen.hasFullDrawMode()===false){_104=this.bcanvas;ctx=_104.getContext("2d");}else{_104=this.dcanvas;ctx=this.dcontext;}var _105=this.drawingContext;_105.context=ctx;this.pen.drawStart(_105);var _106=0;while(_106<16&&this.arrayCell.length>0){var cell=this.arrayCell.shift();_106++;var xp=cell.xp;var yp=cell.yp;var tm=cell.tm;var stat=cell.stat;if(this.pen.hasFullDrawMode()){this.arrayCopy.push(cell);}if(stat==0){this.pen.strokeStart(_105,xp,yp,tm);this.testTimeStr="";}else{if(stat==1){this.pen.strokeMove(_105,xp,yp,tm);this.testTimeStr+=_105.timeStr;}else{this.pen.strokeEnd(_105,xp,yp,tm);this.testTimeStr+=_105.timeStr;}}}this.pen.drawEnd(_105);},doTimeout:function(){var _107=InkTool.InkLib;var _108=InkTool.InkCanvasLib;var _109=this.dcanvas;var _10a=0;for(var _10b=0;_10b<this.arrayCopy.length;_10b++){var stat=this.arrayCopy[_10b].stat;if(stat==2){_10a=_10b+1;}}if(_10a==0){return;}var _10c=this.bcanvas;var bctx=_10c.getContext("2d");var _10d=this.drawingContext;var _10e=new InkTool.DrawingContext(bctx,_10d.getOffsetX(),_10d.getOffsetY(),_10d.getZoomRatio());this.pen.fullDrawStart(_10e);for(var _10b=0;_10b<_10a;_10b++){var cell=this.arrayCopy.shift();var xp=cell.xp;var yp=cell.yp;var tm=cell.tm;var stat=cell.stat;if(stat==0){this.pen.fullStrokeStart(_10e,xp,yp,tm);}else{if(stat==1){this.pen.fullStrokeMove(_10e,xp,yp,tm);}else{this.pen.fullStrokeEnd(_10e,xp,yp,tm);}}}this.pen.fullDrawEnd();this.clearDrawingCanvas();},dummy:function(){}});InkTool.InkCanvas=InkTool.InkLib.Class.create(InkTool.InkCanvasBase,{initialize:function(){InkTool.InkCanvasBase.prototype.initialize.apply(this,arguments);this.arrayCharacterImages=new Array();this.characterImageTag=null;this.markingArea={"left":0,"top":0,"width":0,"height":0};this.defComment={"left":0,"top":0};this.goodMark={"url":"","left":0,"top":0,"width":0,"height":0,"zindex":0,"element":null};this.wrongMark={"url":"","left":0,"top":0,"width":0,"height":0,"zindex":0,"element":null};this.wrongStrokeColor=null;this.wrongDirectionStrokeColor=null;this.wrongFigureStrokeColor=null;this.wrongPointCircle={"color":new InkTool.InkColor("#C0FF0000"),"radius":10,"width":2};this.wrongLengthPointCircle={"color":new InkTool.InkColor("#C0FF0000"),"radius":10,"width":2};this.wrongArrow={"color":new InkTool.InkColor("#C0FF0000"),"width":2,"arrowLength":10,"arrowWidth":8};this.listCommentImage={};this.ccanvas=null;this.ccontext=null;this.commentElements=new Array();this.cdiv=null;this.goodElem=null;this.wrongElem=null;},relayout:function(){InkTool.InkCanvasBase.prototype.relayout.apply(this,arguments);var _10f=InkTool.InkLib;var _110=InkTool.InkCanvasLib;var _111=_10f.getElementById(this.id);if(_111==null){return false;}var _112=this.zorder;if(_112==0){_112=_10f.getStyleOfElement(_111,"z-index",null);}this.markingAreaPos=_10f.getElementAbsoluteLocation(_111);if(this.ccanvas!=null){var left=this.rect.left+this.markingArea.left;var top=this.rect.top+this.markingArea.top;this.ccanvas.style.left=""+left+"px";this.ccanvas.style.top=""+top+"px";this.ccanvas.style.zIndex=_112;}if(this.cdiv!=null){var left=this.rect.left+this.markingArea.left;var top=this.rect.top+this.markingArea.top;this.cdiv.style.left=""+left+"px";this.cdiv.style.top=""+top+"px";this.cdiv.style.zIndex=_112;}if(this.goodElem!=null){this.goodElem.style.left=""+(this.rect.left+this.goodMark.left)+"px";this.goodElem.style.top=""+(this.rect.top+this.goodMark.top)+"px";this.goodElem.style.zIndex=_112;}if(this.wrongElem!=null){this.wrongElem.style.left=""+(this.rect.left+this.wrongMark.left)+"px";this.wrongElem.style.top=""+(this.rect.top+this.wrongMark.top)+"px";this.wrongElem.style.zIndex=_112;}},display:function(flag){InkTool.InkCanvasBase.prototype.display.apply(this,arguments);var _113=InkTool.InkLib;var _114=InkTool.InkCanvasLib;if(flag){_113.showElement(this.ccanvas);}else{_113.hideElement(this.ccanvas);}if(this.cdiv!=null){if(flag){_113.showElement(this.cdiv);}else{_113.hideElement(this.cdiv);}}if(this.goodElem!=null){if(flag){_113.showElement(this.goodElem);}else{_113.hideElement(this.goodElem);}}if(this.wrongElem!=null){if(flag){_113.showElement(this.wrongElem);}else{_113.hideElement(this.wrongElem);}}},setCharacterImages:function(_115){this.arrayCharacterImages.length=0;if(typeof _115=="string"){var _116=new Image();_116.src=_115;this.arrayCharacterImages.push(_115);}else{for(var _117=0;_117<_115.length;_117++){var _116=new Image();_116.src=_115[_117];this.arrayCharacterImages.push(_115[_117]);}}if(this.characterImageTag==null){var _118=InkTool.InkLib;var _119=this.bcanvas;var _11a=document.createElement("img");_11a.id="inkTool_"+this.id+"_characterImage";_11a.src=this.getCharacterImageURL();_11a.onselectstart=function(){return false;};_11a.ondragstart=function(){return false;};_11a.style.position="absolute";_11a.style.left=_119.style.left;_11a.style.top=_119.style.top;_11a.width=_119.width;_11a.height=_119.height;_11a.style.zIndex=this.ezindex;if(_11a.src==""){_11a.style.visibility="hidden";}else{_11a.style.visibility="visible";}var _11b=_118.getElementById(this.id);if(_11b!==null){this.characterImageTag=_11a;_118.addElementAfter(_11b,this.characterImageTag);}}else{this.characterImageTag.style.visibility="visible";this.updateImageCharacter(null);}this.penUpInnerFunc=this.updateImageCharacter;},getCharacterImageURL:function(){var _11c=this.getNumStrokes();if(_11c>this.arrayCharacterImages.length-1){_11c=this.arrayCharacterImages.length-1;}if(_11c<0){return "";}else{return this.arrayCharacterImages[_11c];}},clearCharacterImages:function(){this.arrayCharacterImages.length=0;if(this.characterImageTag!=null){this.characterImageTag.style.visibility="hidden";}this.penUpInnerFunc=null;},updateImageCharacter:function(epos){var _11d=this.characterImageTag;if(_11d!=null){_11d.src=this.getCharacterImageURL();}},undoInk:function(){InkTool.InkCanvasBase.prototype.undoInk.apply(this,arguments);this.updateImageCharacter(null);},redoInk:function(){InkTool.InkCanvasBase.prototype.redoInk.apply(this,arguments);this.updateImageCharacter(null);},clearInk:function(){InkTool.InkCanvasBase.prototype.clearInk.apply(this,arguments);this.updateImageCharacter(null);},loadInkObjectSub:function(){InkTool.InkCanvasBase.prototype.loadInkObjectSub.apply(this,arguments);this.updateImageCharacter(null);},setMarkingArea:function(left,top,_11e,_11f,_120,_121){var _122=InkTool.InkLib;var _123=InkTool.InkCanvasLib;this.markingArea.left=left;this.markingArea.top=top;this.markingArea.width=_11e;this.markingArea.height=_11f;this.defComment.left=_120;this.defComment.top=_121;var _124=_122.getElementById(this.id);if(_124==null){return false;}this.markingAreaPos=_122.getElementAbsoluteLocation(_124);var epos=this.markingAreaPos;var _125=_122.getElementSize(_124);var _126=this.zorder;if(_126==0){_126=_122.getStyleOfElement(_124,"z-index",null);}if(this.ccanvas==null){this.ccanvas=document.createElement("canvas");this.ccanvas.id="inktool_"+this.id+"_comment";this.ccanvas.onselectstart=function(){return false;};this.ccanvas.ondragstart=function(){return false;};this.ccanvas.style.position="absolute";this.ccanvas.style.left=""+(epos.left+left)+"px";this.ccanvas.style.top=""+(epos.top+top)+"px";this.ccanvas.width=_11e;this.ccanvas.height=_11f;if(_126!==null){this.ccanvas.style.zIndex=_126;}_122.addElementAfter(this.dcanvas,this.ccanvas);if(_122.needsEmulateCanvas()){G_vmlCanvasManager.initElement(this.ccanvas);}this.ccontext=this.ccanvas.getContext("2d");this.cdiv=document.createElement("div");this.cdiv.id="inktool_"+this.id+"_cbase";this.cdiv.onselectstart=function(){return false;};this.cdiv.ondragstart=function(){return false;};this.cdiv.style.position="absolute";this.cdiv.style.left=""+(epos.left+left)+"px";this.cdiv.style.top=""+(epos.top+top)+"px";this.cdiv.width=_11e;this.cdiv.height=_11f;if(_126!==null){this.cdiv.style.zIndex=_126;}this.cdiv.style.margin="0px";this.cdiv.style.padding="0px";_122.addElementAfter(this.ccanvas,this.cdiv);}else{this.ccanvas.style.position="absolute";this.ccanvas.style.left=""+(epos.left+left)+"px";this.ccanvas.style.top=""+(epos.top+top)+"px";this.ccanvas.width=_11e;this.ccanvas.height=_11f;}},setGoodMark:function(_127,left,top,_128,_129,_12a){this.goodMark.url=_127;this.goodMark.left=left;this.goodMark.top=top;this.goodMark.width=_128;this.goodMark.height=_129;this.goodMark.zindex=_12a;},setWrongMark:function(_12b,left,top,_12c,_12d,_12e){this.wrongMark.url=_12b;this.wrongMark.left=left;this.wrongMark.top=top;this.wrongMark.width=_12c;this.wrongMark.height=_12d;this.wrongMark.zindex=_12e;},setWrongStrokeColor:function(_12f){this.wrongStrokeColor=_12f;},setWrongStrokeColors:function(_130,_131,_132){this.wrongStrokeColor=color;this.wrongDirectionStrokeColor=color;this.wrongFigureStrokeColor=color;},setWrongPointCircle:function(_133,_134,_135){this.wrongPointCircle.color=_133;this.wrongPointCircle.radius=_134;this.wrongPointCircle.width=_135;},setWrongLengthPointCircle:function(_136,_137,_138){this.wrongLengthPointCircle.color=_136;this.wrongLengthPointCircle.radius=_137;this.wrongLengthPointCircle.width=_138;},setWrongArrow:function(_139,_13a,_13b,_13c){this.wrongArrow.color=_139;this.wrongArrow.width=_13a;this.wrongArrow.arrowLength=_13b;if(_13c!==undefined){this.wrongArrow.arrowWidth=_13c;}},clearMarkingCommentImages:function(){this.listCommentImage={};},addMarkingCommentImage:function(code,_13d,_13e,_13f){var _140=new Image();_140.src=_13d;this.listCommentImage[code]={"image":_13d,"width":_13e,"height":_13f};},clearMarkingResult:function(){var _141=InkTool.InkLib;var _142=InkTool.InkCanvasLib;if(this.goodElem!=null){var _143=this.goodElem.parentNode;_143.removeChild(this.goodElem);this.goodElem=null;}if(this.wrongElem!=null){var _143=this.wrongElem.parentNode;_143.removeChild(this.wrongElem);this.wrongElem=null;}for(var _144=0;_144<this.commentElements.length;_144++){var _145=this.commentElements[_144];var _143=_145.parentNode;_143.removeChild(_145);}this.commentElements.length=0;var ctx=this.ccontext;ctx.clearRect(0,0,this.markingArea.width,this.markingArea.height);},createMarkingResult:function(_146,_147,_148,_149,_14a,_14b,_14c){var _14d=InkTool.InkLib;var _14e=InkTool.InkCanvasLib;this.clearMarkingResult();var ctx=this.ccontext;var _14f=this.parseMarkingResult(_146);var _150={"width":_14f.ink.w,"height":_14f.ink.h};if(_14f.markingError=="stroke"&&_14c){for(var _151=0;_151<_14f.comments.length;_151++){var _152=_14f.comments[_151].code;if(_152=="order"||_152=="direction"){var _153=_14f.comments[_151].strokeIndex;if(_153>=0&&_153<_14f.ink.is.length){var _154=_14f.ink.is[_153];_154.st.col.R=this.wrongStrokeColor.R;_154.st.col.G=this.wrongStrokeColor.G;_154.st.col.B=this.wrongStrokeColor.B;_154.st.col.A=this.wrongStrokeColor.A;}}}}this.loadInkObject(_14f.ink);if(_14f.markingError=="nothing"){if(_147){var elem=document.createElement("img");elem.src=this.goodMark.url;this.goodElem=elem;var epos=this.markingAreaPos;var _155=this.ezindex;elem.style.position="absolute";elem.style.left=""+(epos.left+this.goodMark.left)+"px";elem.style.top=""+(epos.top+this.goodMark.top)+"px";elem.width=this.goodMark.width;elem.height=this.goodMark.height;if(_155!==null){elem.style.zIndex=_155;}_14d.addElementAfter(this.dcanvas,elem);}}else{if(_148){var elem=document.createElement("img");elem.src=this.wrongMark.url;this.wrongElem=elem;var epos=this.markingAreaPos;var _155=this.ezindex;elem.style.position="absolute";elem.style.left=""+(epos.left+this.wrongMark.left)+"px";elem.style.top=""+(epos.top+this.wrongMark.top)+"px";elem.width=this.wrongMark.width;elem.height=this.wrongMark.height;if(_155!==null){elem.style.zIndex=_155;}_14d.addElementAfter(this.dcanvas,elem);}if(_14f.markingError!="stroke"){if(_14b){var _156=this.getMarkingCommentImage(_14f.markingError);var elem=document.createElement("img");elem.src=_156.image;elem.width=_156.width;elem.height=_156.height;this.commentElements.push(elem);var epos=this.markingAreaPos;var _155=this.ezindex;elem.style.position="absolute";elem.style.left=""+(this.defComment.left-this.markingArea.left)+"px";elem.style.top=""+(this.defComment.top-this.markingArea.top)+"px";elem.width=_156.width;elem.height=_156.height;if(_155!==null){elem.style.zIndex=_155;}this.cdiv.appendChild(elem);}}else{var _157=false;var _158=[{"index":-1,"left":0,"top":0,"area":{},"img":{}},{"index":-1,"left":0,"top":0,"area":{},"img":{}},{"index":-1,"left":0,"top":0,"area":{},"img":{}},{"index":-1,"left":0,"top":0,"area":{},"img":{}}];_158[0].area.left=0;_158[0].area.top=0;_158[0].area.width=-this.markingArea.left;_158[0].area.height=Math.round(this.markingArea.height/2);_158[1].area.left=this.bcanvas.width-this.markingArea.left;_158[1].area.top=0;_158[1].area.width=this.markingArea.width-(this.bcanvas.width-this.markingArea.left);_158[1].area.height=Math.round(this.markingArea.height/2);_158[2].area.left=0;_158[2].area.top=Math.round(this.markingArea.height/2);_158[2].area.width=-this.markingArea.left;_158[2].area.height=Math.round(this.markingArea.height/2);_158[3].area.left=this.bcanvas.width-this.markingArea.left;_158[3].area.top=Math.round(this.markingArea.height/2);_158[3].area.width=this.markingArea.width-(this.bcanvas.width-this.markingArea.left);_158[3].area.height=Math.round(this.markingArea.height/2);var _159=new Array();for(var ct=0;ct<_14f.comments.length;ct++){_159[ct]=false;}var _15a=new Array();for(var ct=0;ct<_14f.ink.is.length;ct++){_15a[ct]=false;}var _15b=new Array();for(var pass=0;pass<_158.length;pass++){for(var _151=0;_151<_14f.comments.length;_151++){var _156=_14f.comments[_151];if(_159[_151]==true){continue;}if(_156.code=="nothing"){_159[_151]=true;continue;}else{if(_156.code=="order"){if(_157==true){_159[_151]=true;continue;}var pos=this.getAverageLocationOfTheStroke(_156.strokeIndex);pos=this.convertPositionCanvasToElement(this.drawingContext,pos);var _15c=this.getPositionIndex(_150,pos,pass);if(_158[_15c].index>=0){continue;}_158[_15c].index=_151;_158[_15c].left=pos.left;_158[_15c].top=pos.top;_157=true;_159[_151]=true;}else{if(_156.code!="connection"&&_156.code!="direction"&&_156.code!="position"&&_156.code!="angle"){var pos=this.getLocationOfTheCell(_156.strokeIndex,_156.cellIndex);pos=this.convertPositionCanvasToElement(this.drawingContext,pos);var _15c=this.getPositionIndex(_150,pos,pass);if(_158[_15c].index>=0){continue;}var _15d=false;for(var ct=0;ct<_15b.length;ct++){var dx=_15b[ct].left-pos.left;var dy=_15b[ct].top-pos.top;var dist=Math.sqrt(dx*dx+dy*dy);var _15e=16;var _15f=true;if((_156.code=="hane"||_156.code=="ex_hane"||_156.code=="length"||_156.code=="figure")&&_156.code==_15b[ct].code){_15f=false;_15e=500;}if(dist<=_15e&&(_15b[ct].stroke==_156.strokeIndex||(_15f==true&&(_15b[ct].ostroke==_156.strokeIndex||_15b[ct].stroke==_156.ostrokeIndex||(_156.ostrokeIndex>=0&&_15b[ct].ostroke==_156.ostrokeIndex))))){_15d=true;break;}}if(_15d==true){continue;}_158[_15c].index=_151;_158[_15c].left=pos.left;_158[_15c].top=pos.top;_159[_151]=true;_15a[_156.strokeIndex]=true;var _160={"code":_156.code,"stroke":_156.strokeIndex,"cell":_156.cellIndex,"ostroke":_156.ostrokeIndex,"ocell":_156.ocellIndex,"left":pos.left,"top":pos.top};_15b.push(_160);}}}}for(var _151=0;_151<_14f.comments.length;_151++){var _156=_14f.comments[_151];if(_159[_151]==true){continue;}if(_156.code=="direction"){if(_157==true){_159[_151]=true;continue;}var pos=this.getAverageLocationOfTheStroke(_156.strokeIndex);pos=this.convertPositionCanvasToElement(this.drawingContext,pos);var _15c=this.getPositionIndex(_150,pos,pass);if(_158[_15c].index>=0){continue;}_158[_15c].index=_151;_158[_15c].left=pos.left;_158[_15c].top=pos.top;_159[_151]=true;}else{if(_156.code=="connection"||_156.code=="position"||_156.code=="angle"){if(_15a[_156.strokeIndex]==true){_159[_151]=true;continue;}var pos=this.getLocationOfTheCell(_156.strokeIndex,_156.cellIndex);pos=this.convertPositionCanvasToElement(this.drawingContext,pos);var _15c=this.getPositionIndex(_150,pos,pass);if(_158[_15c].index>=0){continue;}var _15d=false;for(var ct=0;ct<_15b.length;ct++){var dx=_15b[ct].left-pos.left;var dy=_15b[ct].top-pos.top;var dist=Math.sqrt(dx*dx+dy*dy);var _15e=16;var _15f=true;if((_156.code=="position"||_156.code=="angle")&&_156.code==_15b[ct].code){_15f=false;_15e=500;}if(dist<=_15e&&(_15b[ct].stroke==_156.strokeIndex||(_15f==true&&(_15b[ct].ostroke==_156.strokeIndex||_15b[ct].stroke==_156.ostrokeIndex||(_156.ostrokeIndex>=0&&_15b[ct].ostroke==_156.ostrokeIndex))))){_15d=true;break;}}if(_15d==true){continue;}_158[_15c].index=_151;_158[_15c].left=pos.left;_158[_15c].top=pos.top;_159[_151]=true;var _160={"code":_156.code,"stroke":_156.strokeIndex,"cell":_156.cellIndex,"ostroke":_156.ostrokeIndex,"ocell":_156.ocellIndex,"left":pos.left,"top":pos.top};_15b.push(_160);}}}var _161=false;for(var pa=0;pa<_158.length;pa++){if(_158[pa].index<0){_161=true;break;}}if(_161==false){break;}}var minx=1000;var miny=1000;var maxx=-1000;var maxy=-1000;var _162=0;for(var _163=0;_163<_158.length;_163++){if(_158[_163].index<0){continue;}var xp=_158[_163].left;var yp=_158[_163].top;if(xp<minx){minx=xp;}if(xp>maxx){maxx=xp;}if(yp<miny){miny=yp;}if(yp>maxy){maxy=yp;}_162++;}if(_162>=2){var _164=[-1,-1,-1,-1];var _165=1000000;var _166=[{"x":minx,"y":miny},{"x":maxx,"y":miny},{"x":minx,"y":maxy},{"x":maxx,"y":maxy}];for(var ct1=0;ct1<4;ct1++){for(var ct2=0;ct2<4;ct2++){if(ct2==ct1){continue;}for(var ct3=0;ct3<4;ct3++){if(ct3==ct1||ct3==ct2){continue;}for(var ct4=0;ct4<4;ct4++){if(ct4==ct1||ct4==ct2||ct4==ct3){continue;}var dist=0;var dx,dy;if(_158[0].index>=0){dx=_158[0].left-_166[ct1].x;dy=_158[0].top-_166[ct1].y;dist+=Math.sqrt(dx*dx+dy*dy);}if(_158[1].index>=0){dx=_158[1].left-_166[ct2].x;dy=_158[1].top-_166[ct2].y;dist+=Math.sqrt(dx*dx+dy*dy);}if(_158[2].index>=0){dx=_158[2].left-_166[ct3].x;dy=_158[2].top-_166[ct3].y;dist+=Math.sqrt(dx*dx+dy*dy);}if(_158[3].index>=0){dx=_158[3].left-_166[ct4].x;dy=_158[3].top-_166[ct4].y;dist+=Math.sqrt(dx*dx+dy*dy);}if(dist<_165){_164[0]=ct1;_164[1]=ct2;_164[2]=ct3;_164[3]=ct4;_165=dist;}}}}}var _167=[{},{},{},{}];for(var _163=0;_163<4;_163++){_167[_163].index=_158[_163].index;_167[_163].left=_158[_163].left;_167[_163].top=_158[_163].top;}for(var _163=0;_163<4;_163++){_158[_164[_163]].index=_167[_163].index;_158[_164[_163]].left=_167[_163].left;_158[_164[_163]].top=_167[_163].top;}}for(var _163=0;_163<_158.length;_163++){var _168=_158[_163];if(_168.index<0){continue;}var _156=_14f.comments[_168.index];var _169=this.getMarkingCommentImage(_156.code);var _16a=_168.area.left+Math.round((_168.area.width-_169.width)/2);var _16b=_168.area.top+Math.round((_168.area.height-_169.height)/2);_168.img.left=_16a;_168.img.top=_16b;_168.img.width=_169.width;_168.img.height=_169.height;}if(_158[0].index>=0&&_158[0].img.top<0){_158[0].img.top=0;}if(_158[1].index>=0&&_158[1].img.top<0){_158[1].img.top=0;}if(_158[2].index>=0&&_158[2].img.top+_158[2].img.height>this.markingArea.height){_158[2].img.top=this.markingArea.height-_158[2].img.height;}if(_158[3].index>=0&&_158[3].img.top+_158[3].img.height>this.markingArea.height){_158[3].img.top=this.markingArea.height-_158[3].img.height;}if(_158[0].index>=0&&_158[2].index>=0){if(_158[0].img.top+_158[0].img.height>_158[2].img.top){var _16c=(_158[0].img.height>_158[2].img.height)?0:2;var _16d=(_16c==0)?2:0;var _16e=_158[_16c].area.width;if(_16e>_158[_16c].img.width+_158[_16d].img.width){var _16f=Math.round((_16e-(_158[_16c].img.width+_158[_16d].img.width))/3);_158[_16d].img.left=_158[_16c].area.left+_16e-_16f-_158[_16d].img.width;_158[_16c].img.left=_158[_16c].area.left+_16f;}else{_158[_16d].img.left=_158[_16c].area.left+_16e-_158[_16d].img.width;_158[_16c].img.left=_158[_16c].area.left;}}}if(_158[1].index>=0&&_158[3].index>=0){if(_158[1].img.top+_158[1].img.height>_158[3].img.top){var _16c=(_158[1].img.height>_158[3].img.height)?1:3;var _16d=(_16c==1)?3:1;var _16e=_158[_16c].area.width;if(_16e>_158[_16c].img.width+_158[_16d].img.width){var _16f=Math.round((_16e-(_158[_16c].img.width+_158[_16d].img.width))/3);_158[_16c].img.left=_158[_16c].area.left+_16e-_16f-_158[_16c].img.width;_158[_16d].img.left=_158[_16c].area.left+_16f;}else{_158[_16c].img.left=_158[_16c].area.left+_16e-_158[_16c].img.width;_158[_16d].img.left=_158[_16c].area.left;}}}for(var _163=0;_163<_158.length;_163++){var _168=_158[_163];if(_168.index<0){continue;}var _156=_14f.comments[_168.index];var _170=_168.left-this.markingArea.left;var _171=_168.top-this.markingArea.top;var _169=this.getMarkingCommentImage(_156.code);var _172=0;if(_156.code=="order"||_156.code=="direction"||_156.code=="position"||_156.code=="length"||_156.code=="angle"||_156.code=="curvature"||_156.code=="figure"){_172=12;}else{if(_149){ctx.beginPath();ctx.arc(_170,_171,this.wrongPointCircle.radius,0,2*Math.PI,false);ctx.strokeStyle=this.wrongPointCircle.color.getRGBA();ctx.lineWidth=this.wrongPointCircle.width;ctx.stroke();}_172=this.wrongPointCircle.radius+8;}var _16a=_168.img.left;var _16b=_168.img.top;if(_14b){var elem=document.createElement("img");elem.src=_169.image;elem.width=_169.width;elem.height=_169.height;this.commentElements.push(elem);var _155=this.ezindex;elem.style.position="absolute";elem.style.left=""+_16a+"px";elem.style.top=""+_16b+"px";elem.width=_169.width;elem.height=_169.height;if(_155!==null){elem.style.zIndex=_155;}this.cdiv.appendChild(elem);}var _173=_16a+Math.round(_169.width/2);var _174=_16b+Math.round(_169.height/2);var _175=Math.atan2(_174-_171,_173-_170);var _176=(_172+this.wrongArrow.arrowLength-0.5)*Math.cos(_175);var _177=(_172+this.wrongArrow.arrowLength-0.5)*Math.sin(_175);var _178=(_172+this.wrongArrow.arrowLength)*Math.cos(_175);var _179=(_172+this.wrongArrow.arrowLength)*Math.sin(_175);var _17a=_170+_172*Math.cos(_175);var _17b=_171+_172*Math.sin(_175);var _17c=_170+_176;var _17d=_171+_177;var _17e=_170+_178;var _17f=_171+_179;var _180=_175+Math.PI/2;var _181=this.wrongArrow.arrowWidth/2*Math.cos(_180);var _182=this.wrongArrow.arrowWidth/2*Math.sin(_180);var _183=_17e+_181;var _184=_17f+_182;var _185=_17e-_181;var _186=_17f-_182;if(_14a){ctx.beginPath();ctx.moveTo(_173,_174);ctx.lineTo(_17c,_17d);ctx.strokeStyle=this.wrongArrow.color.getRGBA();ctx.lineWidth=this.wrongArrow.width;ctx.stroke();ctx.beginPath();ctx.moveTo(_183,_184);ctx.lineTo(_17a,_17b);ctx.lineTo(_185,_186);ctx.closePath();ctx.fillStyle=this.wrongArrow.color.getRGBA();ctx.fill();}}}}},getMarkingCommentImage:function(_187){var _188=this.listCommentImage[_187];if(_188==null){_188=this.listCommentImage["others"];}return _188;},getAverageLocationOfTheStroke:function(_189){var left=0;var top=0;var _18a=this.currentDrawing;if(_18a==null){return {"left":0,"top":0};}var _18b=_18a.getDrawItem(_189);if(_18b==null||_18b.countCells()==0){return {"left":0,"top":0};}var max=_18b.countCells();for(var _18c=0;_18c<max;_18c++){var cell=_18b.getCell(_18c);left+=cell.getX();top+=cell.getY();}left=Math.round(left/max);top=Math.round(top/max);return {"left":left,"top":top};},getLocationOfTheCell:function(_18d,_18e){var _18f=this.currentDrawing;if(_18f==null){return {"left":0,"top":0};}var _190=_18f.getDrawItem(_18d);if(_190==null||_190.countCells()==0){return {"left":0,"top":0};}var _191=_190.getCell(_18e);if(_191==null){return {"left":0,"top":0};}var left=_191.getX();var top=_191.getY();return {"left":left,"top":top};},getPositionIndex:function(area,pos,pass){if(pos.top<=area.height/2){if(pos.left<=area.width/2){if(pass==0){return 0;}else{if(pass==1){return 2;}else{if(pass==2){return 1;}else{return 3;}}}}else{if(pass==0){return 1;}else{if(pass==1){return 3;}else{if(pass==2){return 0;}else{return 2;}}}}}else{if(pos.left<=area.width/2){if(pass==0){return 2;}else{if(pass==1){return 0;}else{if(pass==2){return 3;}else{return 1;}}}}else{if(pass==0){return 3;}else{if(pass==1){return 1;}else{if(pass==2){return 2;}else{return 0;}}}}}},parseMarkingResult:function(_192){var _193=JSON.parse(_192);return this.parseMarkingObject(_193);},parseMarkingObject:function(_194){var resp=new Object();resp.id=_194.id;resp.recogChar=_194.c;resp.markingError=_194.code;resp.ink=_194.ink;resp.comments=new Array();if(resp.markingError=="stroke"){if(_194.comments==null){}else{for(var _195=0;_195<_194.comments.length;_195++){var _196=new Object();var _197=_194.comments[_195];var _198=_197.split("|");if(_198.length>0){_196.code=_198[0];}else{_196.code="unknown";}if(_198.length>1){_196.strokeIndex=parseInt(_198[1],10);}else{_196.strokeIndex=-1;}if(_198.length>2){_196.cellIndex=parseInt(_198[2],10);}else{_196.cellIndex=-1;}if(_198.length>3){_196.ostrokeIndex=parseInt(_198[3],10);}else{_196.ostrokeIndex=-1;}if(_198.length>4){_196.ocellIndex=parseInt(_198[4],10);}else{_196.ocellIndex=-1;}resp.comments.push(_196);}}}return resp;},dummy:function(){}});InkTool.InkRecogLib={recogUnits:[],currentRecogID:"",onRecognizingFunc:null,onRecognizeFunc:null,recogType:"all",debugLevel:0,recogTime:1000,blankChar:"",syncTarget:false,recogTry:1,recogInterval:5000,recogVertical:false,smallChars:"",serverURL:"http://localhost:8080/InkTool/InkToolSubmitTest",HalfList:"",FullList:"",recogPalettes:[],getAveDrawingTime:function(){var _1=InkTool.InkCanvasLib.TotalDrawingTime;var _2=InkTool.InkCanvasLib.TotalDrawingCells;return _1/_2;},createRecogUnit:function(_3){InkTool.InkCanvasLib.createFepCanvas(_3);InkTool.InkRecogLib.recogUnits[_3]=new InkTool.InkRecogUnit(_3);return InkTool.InkRecogLib.recogUnits[_3];},getRecogUnit:function(_4){return InkTool.InkRecogLib.recogUnits[_4];},createPopupRecogPalette:function(_5,_6,_7){var _8=new InkTool.InkRecogPalette(_5,"popup",_6);if(_7!==undefined&&_7!==null){_8.setZIndex(_7);}InkTool.InkRecogLib.recogPalettes[_5]=_8;return _8;},createEmbeddedRecogPalette:function(_9,_a){var _b=new InkTool.InkRecogPalette(_9,"embedded",_a);InkTool.InkRecogLib.recogPalettes[_9]=_b;return _b;},getRecogPalette:function(_c){return InkTool.InkRecogLib.recogPalettes[_c];},getRecogPaletteByCanvasId:function(_d){for(var _e in InkTool.InkRecogLib.recogPalettes){var _f=InkTool.InkRecogLib.recogPalettes[_e];if(_f!=null){var _10=_f.getUnitById(_d);if(_10!=null){return _f;}}}return null;},relayoutRecogUnit:function(_11){var _12=InkTool.InkRecogLib.getRecogUnit(_11);if(_12!=null){_12.relayout();}},relayoutRecogPalette:function(_13){var _14=InkTool.InkRecogLib.getRecogPalette(_13);if(_14!=null){_14.relayout();}},setHandler:function(evt,_15){if(evt=="recognizing"){InkTool.InkRecogLib.onRecognizingFunc=_15;}else{if(evt=="recognize"){InkTool.InkRecogLib.onRecognizeFunc=_15;}}},setRecognizeTime:function(_16){InkTool.InkRecogLib.recogTime=_16;},getRecognizeTime:function(){return InkTool.InkRecogLib.recogTime;},setBlankCharacter:function(ch){InkTool.InkRecogLib.blankChar=ch;},getBlankCharacter:function(){return InkTool.InkRecogLib.blankChar;},setSyncWithTarget:function(_17){InkTool.InkRecogLib.syncTarget=_17;},getSyncWithTarget:function(){return InkTool.InkRecogLib.syncTarget;},setRecognizeTryNum:function(num){InkTool.InkRecogLib.recogTry=num;},getRecognizeTryNum:function(){return InkTool.InkRecogLib.recogTry;},setRecognizeRetryInterval:function(_18){InkTool.InkRecogLib.recogInterval=_18;},getRecognizeRetryInterval:function(){return InkTool.InkRecogLib.recogInterval;},setRecognizeVertically:function(_19){InkTool.InkRecogLib.recogVertical=_19;},getRecognizeVertically:function(){return InkTool.InkRecogLib.recogVertical;},recogPenDown:function(_1a,_1b){var _1c=InkTool.InkRecogLib.currentRecogID;if(_1c==_1a.id){_1c="";}InkTool.InkRecogLib.recogFunc(_1c,_1a.id);InkTool.InkRecogLib.currentRecogID=_1a.id;var _1d=InkTool.InkRecogLib.getRecogUnit(_1a.id);if(_1d!=null){_1d.setDrawingTime();}},recogPenMove:function(_1e,_1f){var _20=InkTool.InkRecogLib.getRecogUnit(_1e.id);if(_20!=null){_20.setDrawingTime();}},recogPenUp:function(_21,_22){var _23=_21.id;var _24=InkTool.InkRecogLib.getRecogUnit(_23);var _25=_24.getRecognizeTime();if(_25<0){_25=InkTool.InkRecogLib.getRecognizeTime();}var _26=_25-200;if(_26<0){_26=0;}setTimeout(function(){var _27=_24.getDrawingTime();if(_27!==null){var _28=new Date();var _29=(_27&&_27.getTime)?_27.getTime():0;var _2a=(_28.getTime)?_28.getTime():0;if(_2a-_29>=_26){InkTool.InkRecogLib.recogFunc(_23,null);}}},_25);},setChar:function(id,ch){this.setText(id,ch);},setText:function(id,ch){var _2b=InkTool.InkRecogLib.getRecogUnit(id);if(_2b!=null){_2b.setText(ch);if(InkTool.InkRecogLib.onRecognizeFunc!=null){InkTool.InkRecogLib.onRecognizeFunc(id,"select");}if(_2b.innerRecognizeFunc!=null){_2b.innerRecognizeFunc(id,"select");}if(_2b.onRecognizeFunc!=null){_2b.onRecognizeFunc(id,"select");}}},clearText:function(id){var _2c=InkTool.InkRecogLib.getRecogUnit(id);if(_2c!=null){_2c.clearText();_2c.clearCandidates();if(InkTool.InkRecogLib.onRecognizeFunc!=null){InkTool.InkRecogLib.onRecognizeFunc(id,"clear");}if(_2c.innerRecognizeFunc!=null){_2c.innerRecognizeFunc(id,"clear");}if(_2c.onRecognizeFunc!=null){_2c.onRecognizeFunc(id,"clear");}}},insertText:function(id){var _2d=InkTool.InkRecogLib.getRecogPaletteByCanvasId(id);if(_2d!=null){_2d.insertText(id);}},removeText:function(id){var _2e=InkTool.InkRecogLib.getRecogPaletteByCanvasId(id);if(_2e!=null){_2e.removeText(id);}},recogCurrent:function(){var _2f=InkTool.InkRecogLib.currentRecogID;if(_2f!=""&&_2f!=null&&_2f!=undefined){InkTool.InkRecogLib.recogFunc(_2f,null);InkTool.InkRecogLib.currentRecogID="";}},setRecogType:function(_30,id){if(id===undefined||id===null||id===""){InkTool.InkRecogLib.recogType=_30;}else{var _31=InkTool.InkRecogLib.getRecogUnit(id);if(_31!=null){_31.setRecogType(_30);}}},clearRecogType:function(id){if(id===undefined||id===null||id===""){InkTool.InkRecogLib.recogType="all";}else{var _32=InkTool.InkRecogLib.getRecogUnit(id);if(_32!=null){_32.setRecogType("");}}},setDebugLevel:function(_33){InkTool.InkRecogLib.debugLevel=_33;},setSmallCharacters:function(_34){InkTool.InkRecogLib.smallChars=_34;},setHankakuList:function(str){InkTool.InkRecogLib.HalfList=str;},setZenkakuList:function(str){InkTool.InkRecogLib.FullList=str;},ztohString:function(str){var _35="";for(var _36=0;_36<str.length;_36++){var ch=str.charAt(_36);var _37=InkTool.InkRecogLib.FullList.indexOf(ch,0);if(_37>=0){_35+=InkTool.InkRecogLib.HalfList.charAt(_37);}else{_35+=ch;}}return _35;},htozString:function(str){var _38="";for(var _39=0;_39<str.length;_39++){var ch=str.charAt(_39);var _3a=InkTool.InkRecogLib.HalfList.indexOf(ch,0);if(_3a>=0){_38+=InkTool.InkRecogLib.FullList.charAt(_3a);}else{_38+=ch;}}return _38;},setServerURL:function(url){InkTool.InkRecogLib.serverURL=url;},getServerURL:function(){return InkTool.InkRecogLib.serverURL;},recogFunc:function(_3b,_3c){if(_3b!=""&&_3b!=null&&_3b!=undefined){var _3d=InkTool.InkRecogLib.getRecogUnit(_3b);if(_3d!=null&&_3d.getText()==""){InkTool.InkRecogLib.getRecognition(_3b);}}if(_3c!=""&&_3c!=null&&_3c!=undefined){InkTool.InkRecogLib.clearText(_3c);}},getRecognition:function(id){var _3e=InkTool.InkCanvasLib.getCanvas(id);var _3f=InkTool.InkRecogLib.getRecogUnit(id);var _40=InkTool.InkRecogLib.getRecogPaletteByCanvasId(id);if(_3e==null||_3f==null){return;}if(_3e.countDrawItems()==0){return;}if(_3f.recognizing){return;}_3f.recognizing=true;var _41=_3e.saveInk();var _42=_3f.getRecogType();if(_42===null||_42===""){_42=InkTool.InkRecogLib.recogType;}var _43=_3f.getRecognizeVertically();if(_43===null){_43=InkTool.InkRecogLib.getRecognizeVertically();}var _44="";_44+="InkData="+_41+"\n";_44+="NoiseReduct=0"+"\n";_44+="Quadrant=0"+"\n";_44+="RecogOnly=1"+"\n";_44+="Tategaki="+((_43)?"1":"0")+"\n";_44+="RecogType="+_42;var _45=-1;var _46=null;if(_40!=null){var _47=_40.getUnitIndex(id);var _48=_40.getHeadIndex();if(_47>=0&&_48>=0){_45=_48+_47;}_46=_40.getCurrentTargetData();}var _49=_3f.getRecognizeTryNum();if(_49<0){_49=InkTool.InkRecogLib.getRecognizeTryNum();}var _4a=_3f.getRecognizeRetryInterval();if(_4a<0){_4a=InkTool.InkRecogLib.getRecognizeRetryInterval();}_3f.recoghandle=InkTool.InkLib.sendString(_44,InkTool.InkRecogLib.serverURL,_49,_4a,function(_4b,_4c){try{var _4d;if(_45>=0&&_46!=null){var _4e=_45-_46["head"];_4d=_40.getUnit(_4e);}else{_4d=_3f;}if(_4b.error==true||_4b.canceled==true){if(InkTool.InkRecogLib.debugLevel>0){alert("net try="+_4b.tried+":status="+_4b.httpobj.status+":resp="+_4c);}if(InkTool.InkRecogLib.onRecognizeFunc!=null){InkTool.InkRecogLib.onRecognizeFunc(id,"error");}if(_4d!=null){if(_4d.innerRecognizeFunc!=null){_4d.innerRecognizeFunc(id,"error");}if(_4d.onRecognizeFunc!=null){_4d.onRecognizeFunc(id,"error");}}return;}if(InkTool.InkRecogLib.debugLevel>0){alert("resp="+_4c);}var _4f=JSON.parse(_4c);var _50=_4f["recogs"];if(_50==undefined){return;}var _51="";for(var idx=0;idx<_50.length;idx++){_51+=_50[idx];}if(_51.length==0){_51=InkToolInkRecogLib.htozString(" ");}if(_3f.getHankakuFlag()==true){_51=InkTool.InkRecogLib.ztohString(_51);}var _52=null;if(_3f.onRecognizingFunc!=null){_52=_3f.onRecognizingFunc(id,_51);}if(_52==null&&InkTool.InkRecogLib.onRecognizingFunc!=null){_52=InkTool.InkRecogLib.onRecognizingFunc(id,_51);}if(_52!=null){_51=_52;}var _53=_51.substring(0,1);if(_45>=0&&_46!=null){_46["buff"][_45]["text"]=_53;_46["buff"][_45]["candidates"]=_51;}if(_4d!=null){_4d.setText(_53);_4d.setCandidates(_51);_4d.clearDrawingTime();_4d.setRecognizedInk(_41);var _54=InkTool.InkCanvasLib.getCanvas(_4d.canvasID);_54.clearInk();}if(InkTool.InkRecogLib.onRecognizeFunc!=null){InkTool.InkRecogLib.onRecognizeFunc(id,"recognize");}if(_4d!=null){if(_4d.innerRecognizeFunc!=null){_4d.innerRecognizeFunc(id,"recognize");}if(_4d.onRecognizeFunc!=null){_4d.onRecognizeFunc(id,"recognize");}}_3f.recognizing=false;}catch(e){_3f.recognizing=false;alert("request parse error:"+e);}});},addPaletteTarget:function(pid,tid,_55,_56,_57,_58){var _59=InkTool.InkRecogLib.getRecogPalette(pid);if(_59==null){return;}_59.addTarget(tid,_55,_56,_57,_58);},enablePaletteTarget:function(pid,tid,_5a){var _5b=InkTool.InkRecogLib.getRecogPalette(pid);if(_5b==null){return;}_5b.enableTarget(tid,_5a);},setPaletteRecogType:function(pid,tid,_5c,_5d){var _5e=InkTool.InkRecogLib.getRecogPalette(pid);if(_5e==null){return;}_5e.setRecogType(tid,_5c,_5d);},togglePopup:function(pid,tid){var _5f=InkTool.InkRecogLib.getRecogPalette(pid);if(_5f==null){return;}_5f.togglePopup(tid);},openPopup:function(pid,tid){var _60=InkTool.InkRecogLib.getRecogPalette(pid);if(_60==null){return;}_60.openPopup(tid);},closePopup:function(pid){var _61=InkTool.InkRecogLib.getRecogPalette(pid);if(_61==null){return;}_61.closePopup();},setTarget:function(pid,tid){var _62=InkTool.InkRecogLib.getRecogPalette(pid);if(_62==null){return;}_62.setTarget(tid);},closePopupOnClickNoRelateElement:function(e,pid){var evt=InkTool.InkLib.getLastEvent(e);var _63=InkTool.InkLib.getEventPosition(evt);var _64=InkTool.InkCanvasLib.getElementOfPosition(_63);var _65=InkTool.InkRecogLib.getRecogPalette(pid);if(_65!=null){if(_65.isPaletteTag(_64,true)==true){return;}}_65.closePopup(pid);},Dummy:null};InkTool.InkRecogUnit=InkTool.InkLib.Class.create(null,{initialize:function(_66){this.Version="1.0";this.canvasID=null;this.width=0;this.height=0;this.canvasPos={left:0,top:0};this.recognizing=false;this.recoghandle=null;this.recognized="";this.candidates="";this.recogink="";this.foregroundDiv=null;this.lastDrawingTime=null;this.recogType="";this.onRecognizingFunc=null;this.onRecognizeFunc=null;this.innerRecognizeFunc=null;this.fontFamily="sans-serif";this.fontSize="80px";this.fontStyle="normal";this.fontWeight="normal";this.fontColor="#000000";this.fontSmallFamily="sans-serif";this.fontSmallSize="60px";this.fontSmallStyle="normal";this.fontSmallWeight="normal";this.fontSmallColor="#000000";this.recogTime=-1;this.hankakuFlag=false;this.recogTry=-1;this.recogInterval=-1;this.recogVertical=null;var _67=InkTool.InkLib;var _68=InkTool.InkRecogLib;if(_66!=null){this.canvasID=_66;var _69=InkTool.InkCanvasLib.getCanvas(_66);if(_69!=null){_69.penDownFunc=InkTool.InkRecogLib.recogPenDown;_69.penMoveFunc=InkTool.InkRecogLib.recogPenMove;_69.penUpFunc=InkTool.InkRecogLib.recogPenUp;this.setForegroundDiv(_69,_66);}}},setCanvas:function(id){var _6a=InkTool.InkLib.getElementById(id);if(_6a==null){return false;}this.canvasID=id;this.canvas=_6a;this.width=_6a.width;this.height=_6a.height;this.canvasPos=InkTool.InkLib.getElementLocation(_6a);},setForegroundDiv:function(_6b,id){var _6c=InkTool.InkLib;var _6d=_6c.getElementById(id);if(_6d===null){return;}var _6e=_6c.getElementAbsoluteLocation(_6d);var _6f=_6c.getElementSize(_6d);var _70=_6b.zorder;if(_70==0){_70=_6c.getStyleOfElement(_6d,"z-index",null);}var _71=document.createElement("div");_71.id="inktool_"+id+"_recog_div";_71.onselectstart=function(){return false;};_71.ondragstart=function(){return false;};_71.style.color=this.fontColor;_71.style.position="absolute";_71.style.left=""+_6e.left+"px";_71.style.top=""+_6e.top+"px";_71.style.width=""+_6f.width+"px";_71.style.height=""+_6f.height+"px";_71.style.lineHeight=""+_6f.height+"px";if(_70!==null){_71.style.zIndex=_70;}_71.style.textAlign="center";_71.style.verticalAlign="bottom";_71.style.fontSize=this.fontSize;_71.style.fontFamily=this.fontFamily;_71.style.fontStyle=this.fontStyle;_71.style.fontWeight=this.fontWeight;_71.style.cursor="default";_6c.addElementAfter(_6d,_71);this.foregroundDiv=_71;},relayout:function(){var _72=InkTool.InkLib;if(this.canvasID==null){return;}var _73=_72.getElementById(this.canvasID);if(_73===null){return;}var _74=InkTool.InkCanvasLib.getCanvas(this.canvasID);if(_74!=null){_74.relayout();}var _75=_72.getElementAbsoluteLocation(_73);var _76=_72.getElementSize(_73);var _77=_74.zorder;if(_77==0){_77=_72.getStyleOfElement(_73,"z-index",null);}if(this.foregroundDiv!=null){this.foregroundDiv.style.left=""+_75.left+"px";this.foregroundDiv.style.top=""+_75.top+"px";if(this.foregroundDiv.width!=_76.width||this.foregroundDiv.height!=_76.height){this.foregroundDiv.style.width=""+_76.width+"px";this.foregroundDiv.style.height=""+_76.height+"px";this.foregroundDiv.style.lineHeight=""+_76.height+"px";this.foregroundDiv.style.zIndex=_77;}}},isUnitTag:function(_78){var tid=(_78?_78.id:"");if(this.foregroundDiv.id==tid){return true;}var _79=InkTool.InkCanvasLib.getCanvas(this.canvasID);if(_79!=null&&_79.isCanvasTag(_78)){return true;}return false;},setHandler:function(evt,_7a){if(evt=="recognizing"){this.onRecognizingFunc=_7a;}else{if(evt=="recognize"){this.onRecognizeFunc=_7a;}}},setFont:function(_7b,_7c,_7d,_7e,_7f){if(_7b!=null){this.fontColor=_7b;}if(_7c!=null){this.fontFamily=_7c;}if(_7d!=null){this.fontSize=_7d;}if(_7e!=null){this.fontStyle=_7e;}if(_7f!=null){this.fontWeight=_7f;}},setSmallFont:function(_80,_81,_82,_83,_84){if(_80!=null){this.fontSmallColor=_80;}if(_81!=null){this.fontSmallFamily=_81;}if(_82!=null){this.fontSmallSize=_82;}if(_83!=null){this.fontSmallStyle=_83;}if(_84!=null){this.fontSmallWeight=_84;}},getFont:function(){return {"color":this.fontColor,"family":this.fontFamily,"size":this.fontSize,"style":this.fontStyle,"weight":this.fontWeight};},getSmallFont:function(){return {"color":this.fontSmallColor,"family":this.fontSmallFamily,"size":this.fontSmallSize,"style":this.fontSmallStyle,"weight":this.fontSmallWeight};},setRecognizeTime:function(_85){this.recogTime=_85;},getRecognizeTime:function(){return this.recogTime;},setRecognizeTryNum:function(num){this.recogTry=num;},getRecognizeTryNum:function(){return this.recogTry;},setRecognizeRetryInterval:function(_86){this.recogInterval=_86;},getRecognizeRetryInterval:function(){return this.recogInterval;},setRecognizeVertically:function(_87){this.recogVertical=_87;},getRecognizeVertically:function(){return this.recogVertical;},setText:function(_88){this.recognized=_88;if(this.foregroundDiv!=null){if(InkTool.InkRecogLib.smallChars.indexOf(_88)>=0){this.foregroundDiv.style.color=this.fontSmallColor;this.foregroundDiv.style.fontSize=this.fontSmallSize;this.foregroundDiv.style.fontFamily=this.fontSmallFamily;this.foregroundDiv.style.fontStyle=this.fontSmallStyle;this.foregroundDiv.style.fontWeight=this.fontSmallWeight;}else{this.foregroundDiv.style.color=this.fontColor;this.foregroundDiv.style.fontSize=this.fontSize;this.foregroundDiv.style.fontFamily=this.fontFamily;this.foregroundDiv.style.fontStyle=this.fontStyle;this.foregroundDiv.style.fontWeight=this.fontWeight;}this.foregroundDiv.innerHTML=_88;}},clearText:function(){this.recognized="";if(this.foregroundDiv!=null){this.foregroundDiv.innerHTML="";}},getText:function(){return this.recognized;},setCandidates:function(_89){this.candidates=_89;},setCandidateArray:function(_8a){var _8b="";for(var _8c=0;_8c<_8a.length;_8c++){_8b+=_8a[_8c];}this.candidates=_8b;},clearCandidates:function(){this.candidates="";},getCandidates:function(){return this.candidates;},setRecognizedInk:function(ink){this.recogink=ink;},clearRecognizedInk:function(){this.recogink="";},getRecognizedInk:function(){return this.recogink;},setDrawingTime:function(){this.lastDrawingTime=new Date();},clearDrawingTime:function(){this.lastDrawingTime=null;},getDrawingTime:function(){return this.lastDrawingTime;},setRecogType:function(_8d){this.recogType=_8d;},getRecogType:function(){return this.recogType;},setHankakuFlag:function(_8e){this.hankakuFlag=_8e;},getHankakuFlag:function(){return this.hankakuFlag;},clear:function(_8f,_90,ink){if(_8f==true){this.clearText();}if(_90==true){this.clearCandidates();}if(ink==true){var _91=InkTool.InkCanvasLib.getCanvas(this.canvasID);if(_91!=null){_91.clearInk();}}},setReadOnly:function(_92){var _93=(_92==true)?0:1;var _94=InkTool.InkCanvasLib.getCanvas(this.canvasID);if(_94!=null){_94.setDrawingMode(_93);}},dummy:function(){}});InkTool.InkRecogPalette=InkTool.InkLib.Class.create(null,{initialize:function(id,_95,_96){this.Version="1.0";this.paletteId=id;this.mode=_95;this.units=[];this.targets=[];this.currentTargetId="";this.blankChar=null;this.syncTarget=null;this.viewId="";this.titleViewId="";this.autoScroll=1;this.onPopupFunc=null;this.onCloseFunc=null;this.menuCloseFunc=null;this.menuCheckTagFunc=null;this.viewDisplayFunc=null;this.titleViewDisplayFunc=null;this.recognizing=false;this.bodyClickFunc=function(e){InkTool.InkRecogLib.closePopupOnClickNoRelateElement(e,id);};for(var idx=0;idx<_96.length;idx++){var _97=_96[idx];var _98=this;this.units[idx]=InkTool.InkRecogLib.createRecogUnit(_97);this.units[idx].innerRecognizeFunc=function(cid,_99){if(_98.menuCloseFunc!=null){_98.menuCloseFunc(_98.paletteId);}if(_99=="error"){return;}var tid=_98.currentTargetId;if(tid!=""){var _9a=-1;for(var idx=0;idx<_98.units.length;idx++){var _9b=_98.units[idx];if(_9b.canvasID==cid){_9a=idx;break;}}var _9c=_98.targets[tid];if(_9c!=null&&_9a>=0){var _9b=_98.units[_9a];var _9d=_9c["head"];var _9e=_9b.getText();var _9f=_9b.getCandidates();var _a0={"text":_9e,"candidates":_9f};_9c["buff"][_9d+_9a]=_a0;}_98.showView();_98.syncText();if(_9a==_98.units.length-1&&_99=="recognize"){var _a1=_98.getAutoScroll();if(_a1>0){_98.moveForward(_a1);}}}};}if(this.mode=="popup"){var _a2=InkTool.InkLib.getElementById(id);if(_a2!=null){_a2.style.visibility="hidden";_a2.style.position="absolute";_a2.style.left="0px";_a2.style.top="0px";}}},relayout:function(){if(this.mode=="popup"&&this.currentTargetId!=null){var _a3=InkTool.InkLib.getElementById(this.currentTargetId);var _a4=InkTool.InkLib.getElementById(this.paletteId);if(_a3!=null&&_a4!=null){InkTool.InkLib.showPopup(_a3,_a4);}}for(var idx=0;idx<this.units.length;idx++){var _a5=this.units[idx];_a5.relayout();}},setZIndex:function(_a6){var _a7=InkTool.InkLib.getElementById(this.paletteId);if(_a7!=null){_a7.style.zIndex=_a6;}},setHandler:function(evt,_a8){if(evt=="popup"){this.onPopupFunc=_a8;}else{if(evt=="close"){this.onCloseFunc=_a8;}}},getUnit:function(idx){if(idx<0||idx>=this.units.length){return null;}else{return this.units[idx];}},getUnitById:function(id){for(var idx=0;idx<this.units.length;idx++){var _a9=this.units[idx];if(_a9.canvasID==id){return _a9;}}return null;},getUnitIndex:function(id){for(var idx=0;idx<this.units.length;idx++){var _aa=this.units[idx];if(_aa.canvasID==id){return idx;}}return -1;},getHeadIndex:function(){if(this.currentTargetId==""){return -1;}var _ab=this.targets[this.currentTargetId];if(_ab==null){return -1;}return _ab["head"];},getCurrentTargetId:function(){return this.currentTargetId;},getCurrentTargetElement:function(){if(this.currentTargetId==""){return null;}else{return InkTool.InkLib.getElementById(this.currentTargetId);}},getCurrentTargetData:function(){if(this.currentTargetId==""){return null;}return this.targets[this.currentTargetId];},setPen:function(pen){for(var idx=0;idx<this.units.length;idx++){var id=this.units[idx].canvasID;if(id!=null){var _ac=InkTool.InkCanvasLib.getCanvas(id);if(_ac!=null){_ac.setPen(pen);}}}},setFont:function(_ad,_ae,_af,_b0,_b1){for(var idx=0;idx<this.units.length;idx++){var _b2=this.units[idx];_b2.setFont(_ad,_ae,_af,_b0,_b1);}},setSmallFont:function(_b3,_b4,_b5,_b6,_b7){for(var idx=0;idx<this.units.length;idx++){var _b8=this.units[idx];_b8.setSmallFont(_b3,_b4,_b5,_b6,_b7);}},getFont:function(){if(this.units.length>0){var _b9=this.units[0];return _b9.getFont();}else{return null;}},getSmallFont:function(){if(this.units.length>0){var _ba=this.units[0];return _ba.getSmallFont();}else{return null;}},setRecognizeTime:function(_bb){for(var idx=0;idx<this.units.length;idx++){var _bc=this.units[idx];_bc.setRecognizeTime(_bb);}},setRecognizeTryNum:function(num){for(var idx=0;idx<this.units.length;idx++){var _bd=this.units[idx];_bd.setRecognizeTryNum(num);}},setRecognizeRetryInterval:function(_be){for(var idx=0;idx<this.units.length;idx++){var _bf=this.units[idx];_bf.setRecognizeRetryInterval(_be);}},setRecognizeVertically:function(_c0){for(var idx=0;idx<this.units.length;idx++){var _c1=this.units[idx];_c1.setRecognizeVertically(_c0);}},setBlankCharacter:function(ch,tid){if(tid===undefined||tid===null||tid===""){this.blankChar=ch;}else{var _c2=this.targets[tid];if(_c2!=null){_c2["blank"]=ch;}}},setSyncWithTarget:function(_c3,tid){if(tid===undefined||tid===null||tid===""){this.syncTarget=_c3;}else{var _c4=this.targets[tid];if(_c4!=null){_c4["sync"]=_c3;}}},setAutoScroll:function(num){this.autoScroll=num;},getAutoScroll:function(){return this.autoScroll;},addTarget:function(id,_c5,_c6,_c7,_c8){var _c9=InkTool.InkLib.getElementById(id);if(_c9==null){return false;}if(_c7===undefined||_c7===null||_c7===0){_c7=this.units.length;}else{if(_c7<0){_c7=_c9.maxLength;}else{if(_c7<this.units.length){_c7=this.units.length;}}}if(_c8===undefined||_c8===null){_c8="";}if(this.mode=="popup"){var pid=this.paletteId;InkTool.InkLib.addEvent(_c9,"mousedown",function(e){InkTool.InkRecogLib.togglePopup(pid,id);});var _ca=document.getElementsByTagName("label");for(index=0;index<_ca.length;index++){var _cb=_ca[index];var _cc=_cb.getAttribute("for")||_cb.getAttribute("htmlfor")||"";if(_cc==id){InkTool.InkLib.addEvent(_cb,"click",function(e){InkTool.InkRecogLib.togglePopup(pid,id);});}}}else{InkTool.InkLib.addEvent(_c9,"mousedown",function(e){InkTool.InkRecogLib.setTarget(pid,id);});this.currentTargetId=id;var _ca=document.getElementsByTagName("label");for(index=0;index<_ca.length;index++){var _cb=_ca[index];var _cc=_cb.getAttribute("for")||_cb.getAttribute("htmlfor")||"";if(_cc==id){InkTool.InkLib.addEvent(_cb,"click",function(e){InkTool.InkRecogLib.setTarget(pid,id);});}}}this.targets[id]={"rgtype":_c5,"hankaku":_c6,"buff":[],"head":0,"blank":null,"sync":null,"title":_c8,"enable":true};var _cd=this.targets[id];if(_cd!=null){for(var idx=0;idx<_c7;idx++){_cd["buff"][idx]={"text":"","candidates":""};}}return true;},enableTarget:function(id,_ce){this.targets[id]["enable"]=_ce;},setRecogType:function(id,_cf,_d0){if(_cf==null||_cf==""||_cf==undefined){_cf="all";}if(_d0!==true){_d0=false;}var _d1=this.targets[id];if(_d1!=null){_d1["rgtype"]=_cf;_d1["hankaku"]=_d0;}if(this.currentTargetId==id){var _d1=this.targets[id];for(var idx=0;idx<this.units.length;idx++){var _d2=this.units[idx];_d2.setRecogType(_d1["rgtype"]);_d2.setHankakuFlag(_d1["hankaku"]);}}return true;},setView:function(vid,_d3){this.viewId=vid;this.viewDisplayFunc=_d3;this.showView();},showView:function(){if(this.viewId==null){return;}var _d4=InkTool.InkLib.getElementById(this.viewId);if(_d4==null){return;}var _d5="";var _d6="";var _d7="";if(this.currentTargetId!=""){var _d8=this.targets[this.currentTargetId];if(_d8!=null){var _d9=this.getTextArray();var _da=_d8["head"];var _db=_da+this.units.length;var end=_d8["buff"].length;for(var idx=0;idx<_da;idx++){_d5+=_d9[idx];}for(var idx=_da;idx<_db;idx++){_d6+=_d9[idx];}for(var idx=_db;idx<end;idx++){_d7+=_d9[idx];}}}if(this.viewDisplayFunc!=null){this.viewDisplayFunc(_d4,{"pre":_d5,"inview":_d6,"post":_d7,"lines":[_d5+_d6+_d7]});}else{var _dc;if(_d5==""&&_d6==""&&_d7==""){_dc="&nbsp;";}else{_dc=_d5+"<span style=\"font-weight: bold;\">"+_d6+"</span>"+_d7;}_d4.innerHTML=_dc;}},setTitleView:function(_dd,_de){this.titleViewId=_dd;this.titleViewDisplayFunc=_de;this.showTitleView();},showTitleView:function(){if(this.titleViewId==null){return;}var _df=InkTool.InkLib.getElementById(this.titleViewId);if(_df==null){return;}var tid=this.currentTargetId;var _e0=null;if(tid!=""){var _e1=this.targets[tid];if(_e1!=null){_e0=_e1["title"];}}if(_e0==null){_e0="";}if(this.titleViewDisplayFunc!=null){this.titleViewDisplayFunc(_df,_e0);}else{var _e2;if(_e0==""){_e2="&nbsp;";}else{_e2=_e0;}_df.innerHTML=_e2;}},isSyncText:function(){var tid=this.currentTargetId;var _e3;if(tid==""){_e3=null;}else{_e3=this.targets[tid];}var _e4=null;if(_e3!=null){_e4=_e3["sync"];}if(_e4==null){_e4=this.syncTarget;}if(_e4==null){_e4=InkTool.InkRecogLib.getSyncWithTarget();}if(_e4==null){_e4=false;}return _e4;},syncText:function(){var tid=this.currentTargetId;if(tid==""){return;}var _e5=this.targets[tid];var _e6=InkTool.InkLib.getElementById(tid);var _e7=null;if(_e5!=null){_e7=_e5["sync"];}if(_e7==null){_e7=this.syncTarget;}if(_e7==null){_e7=InkTool.InkRecogLib.getSyncWithTarget();}if(_e7==null){_e7=false;}if(_e7==true&&_e6!=null){_e6.value=this.getText();}},togglePopup:function(tid){var _e8=this.targets[tid];if(_e8==null||_e8==undefined){return;}if(_e8["enable"]!=true){return;}if(this.currentTargetId!=tid){if(this.openPopup(tid)==false){this.closePopup();}}else{this.closePopup();}},openPopup:function(tid){if(this.mode!="popup"){return;}var _e9=this.targets[tid];if(_e9==null||_e9==undefined){return false;}else{if(_e9["enable"]!=true){return false;}else{if(this.currentTargetId!=""){this.closePopup();}var _ea=_e9["head"];for(var idx=0;idx<this.units.length;idx++){var _eb=this.units[idx];_eb.clear(true,true,true);_eb.setRecogType(_e9["rgtype"]);_eb.setHankakuFlag(_e9["hankaku"]);var _ec=_e9["buff"][_ea+idx];if(_ec!=null){var _ed=_ec["text"]||"";var _ee=_ec["candidates"]||"";_eb.setText(_ed);_eb.setCandidates(_ee);}}this.currentTargetId=tid;this.showView();this.showTitleView();this.syncText();if(this.onPopupFunc!=null){this.onPopupFunc(this.paletteId,tid);}InkTool.InkLib.showPopupById(tid,this.paletteId);for(var idx=0;idx<this.units.length;idx++){var _eb=this.units[idx];_eb.relayout();}InkTool.InkLib.addEvent(document.body,"click",this.bodyClickFunc);return true;}}},closePopup:function(){if(this.mode!="popup"){return;}InkTool.InkLib.hideElementById(this.paletteId);if(this.onCloseFunc!=null){this.onCloseFunc(this.paletteId);}if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}this.currentTargetId="";InkTool.InkLib.removeEvent(document.body,"click",this.bodyClickFunc);return true;},setTarget:function(tid){if(this.mode!="embedded"){return;}var _ef=this.targets[tid];if(_ef==null||_ef==undefined){return;}else{var _f0=_ef["head"];for(var idx=0;idx<this.units.length;idx++){var _f1=this.units[idx];_f1.clear(true,true,true);_f1.setRecogType(_ef["rgtype"]);_f1.setHankakuFlag(_ef["hankaku"]);var _f2=_ef["buff"][_f0+idx];if(_f2!=null){var _f3=_f2["text"]||"";var _f4=_f2["candidates"]||"";_f1.setText(_f3);_f1.setCandidates(_f4);}}this.currentTargetId=tid;this.showView();this.showTitleView();this.syncText();}},moveToStart:function(){var _f5=null;if(this.currentTargetId!=""){_f5=this.targets[this.currentTargetId];}if(_f5==null){return false;}if(_f5["head"]==0){return false;}_f5["head"]=0;this.reflectBuffer();return true;},moveToEnd:function(){var _f6=null;if(this.currentTargetId!=""){_f6=this.targets[this.currentTargetId];}if(_f6==null){return false;}var _f7=_f6["buff"].length-this.units.length;if(_f7<0){_f7=0;}if(_f6["head"]==_f7){return false;}_f6["head"]=_f7;this.reflectBuffer();return true;},moveForward:function(num){var _f8=null;if(this.currentTargetId!=""){_f8=this.targets[this.currentTargetId];}if(_f8==null){return false;}var _f9=_f8["buff"].length-this.units.length;if(_f9<0){_f9=0;}var _fa=_f8["head"];if(_fa+num>_f9){num=_f9-_fa;}if(num<=0){return false;}if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}_f8["head"]=_fa+num;this.reflectBuffer();return true;},canMoveForward:function(){var _fb=null;if(this.currentTargetId!=""){_fb=this.targets[this.currentTargetId];}if(_fb==null){return false;}var _fc=_fb["buff"].length-this.units.length;if(_fc<0){_fc=0;}var _fd=_fb["head"];if(_fd>=_fc){return false;}return true;},moveBackward:function(num){var _fe=null;if(this.currentTargetId!=""){_fe=this.targets[this.currentTargetId];}if(_fe==null){return false;}var _ff=_fe["head"];if(_ff<=num){num=_ff;}if(num<=0){return false;}if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}_fe["head"]=_ff-num;this.reflectBuffer();return true;},canMoveBackward:function(){var _100=null;if(this.currentTargetId!=""){_100=this.targets[this.currentTargetId];}if(_100==null){return false;}var head=_100["head"];if(head<=0){return false;}return true;},reflectBuffer:function(){var _101=null;if(this.currentTargetId!=""){_101=this.targets[this.currentTargetId];}if(_101==null){for(var idx=0;idx<this.units.length;idx++){var unit=this.units[idx];unit.clear(true,true,true);}}else{var head=_101["head"];for(var idx=0;idx<this.units.length;idx++){var unit=this.units[idx];unit.clear(true,true,true);unit.setRecogType(_101["rgtype"]);unit.setHankakuFlag(_101["hankaku"]);var _102=_101["buff"][head+idx];if(_102!=null){var text=_102["text"]||"";var _103=_102["candidates"]||"";unit.setText(text);unit.setCandidates(_103);}}}this.showView();this.syncText();},reflectUnits:function(){var _104=null;if(this.currentTargetId!=""){_104=this.targets[this.currentTargetId];}if(_104!=null){var head=_104["head"];for(var idx=0;idx<this.units.length;idx++){var unit=this.units[idx];var _105=_104["buff"][head+idx];if(_105!=null){_105["text"]=unit.getText();_105["candidates"]=unit.getCandidates();}}this.showView();this.syncText();}},clearAll:function(){this.clear(true,true,true,true,true);},clearPalette:function(){this.clear(false,true,true,true,true);},clear:function(_106,text,_107,ink,_108){if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}for(var idx=0;idx<this.units.length;idx++){var unit=this.units[idx];this.clearSub(unit,idx,text,_107,ink);}if(_108==true){var tid=this.currentTargetId;if(tid!=""){var _109=this.targets[tid];if(_109!=null){for(var uidx=0;uidx<_109["buff"].length;uidx++){var _10a=_109["buff"][uidx];_10a["text"]="";_10a["candidates"]="";}}_109["head"]=0;}}this.showView();this.syncText();if(_106==true){var _10b=InkTool.InkLib.getElementById(this.currentTargetId);if(_10b!=null){_10b.value="";}}},clearUnit:function(_10c,text,_10d,ink){if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}for(var idx=0;idx<this.units.length;idx++){var unit=this.units[idx];if(unit!=null&&unit.canvasID==_10c){this.clearSub(unit,idx,text,_10d,ink);}}this.showView();this.syncText();},clearSub:function(unit,_10e,text,_10f,ink){if(unit==null){return;}unit.clear(text,_10f,ink);var tid=this.currentTargetId;if(tid!=""){var _110=this.targets[tid];if(_110!=null){var head=_110["head"];var _111=_110["buff"][head+_10e];if(text){_111["text"]="";}if(_10f){_111["candidates"]="";}}}},isPaletteTag:function(elem,_112){for(var idx=0;idx<this.units.length;idx++){var unit=this.units[idx];if(unit!=null){if(unit.isUnitTag(elem)){return true;}}}while(elem!==null){if(elem.tagName===undefined){break;}var _113=elem.tagName.toLowerCase();if(_113=="body"){break;}var tid=elem.id;if(tid==this.paletteId){return true;}if(_112==true){var _114="";if(_113=="label"){_114=elem.getAttribute("for")||elem.getAttribute("htmlfor")||"";}for(var key in this.targets){if(key==tid||key==_114){return true;}}}if(this.menuCheckTagFunc!=null){if(this.menuCheckTagFunc(elem)==true){return true;}}elem=elem.parentNode;}return false;},addText:function(){var tid=this.currentTargetId;if(tid==""){return;}var _115=this.getText();var _116=InkTool.InkLib.getElementById(tid);if(_116!=null){var text=_116.value;_116.value=text+_115;}this.clear(false,true,true,true,true);},getText:function(){var tid=this.currentTargetId;if(tid==""){return "";}var _117="";var _118=this.targets[tid];if(_118!=null){var _119=-1;for(var idx=0;idx<_118["buff"].length;idx++){var _11a=_118["buff"][idx];if(_11a!=null){var ch=_11a["text"]||"";if(ch!=""){_119=idx;}}}for(var idx=0;idx<_118["buff"].length;idx++){var _11a=_118["buff"][idx];if(_11a!=null){var ch=_11a["text"]||"";if(ch!=""){_117+=ch;}else{if(idx<=_119){var bch=_118["blank"];if(bch==null){bch=this.blankChar;if(bch==null){bch=InkTool.InkRecogLib.getBlankCharacter();}}if(bch!=null){if(_118["hankaku"]==true){bch=InkTool.InkRecogLib.ztohString(bch);}_117+=bch;}}}}}}return _117;},getTextArray:function(){var tid=this.currentTargetId;if(tid==""){return [];}var _11b=[];var _11c=this.targets[tid];if(_11c!=null){var _11d=-1;for(var idx=0;idx<_11c["buff"].length;idx++){var _11e=_11c["buff"][idx];if(_11e!=null){var ch=_11e["text"]||"";if(ch!=""){_11d=idx;}}}for(var idx=0;idx<_11c["buff"].length;idx++){var _11e=_11c["buff"][idx];if(_11e!=null){var ch=_11e["text"]||"";if(ch!=""){_11b.push(ch);}else{if(idx<=_11d){var bch=_11c["blank"];if(bch==null){bch=this.blankChar;if(bch==null){bch=InkTool.InkRecogLib.getBlankCharacter();}}if(bch!=null){if(_11c["hankaku"]==true){bch=InkTool.InkRecogLib.ztohString(bch);}_11b.push(bch);}else{_11b.push("");}}else{_11b.push("");}}}}}return _11b;},insertText:function(cid){var uidx=this.getUnitIndex(cid);if(uidx<0){return;}var tid=this.currentTargetId;if(tid==""){return;}var _11f=this.targets[tid];if(_11f==null){return;}var bidx=_11f["head"]+uidx;if(bidx<0||bidx>=_11f["buff"].length){return;}if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}var len=_11f["buff"].length;for(var idx=len-2;idx>=bidx;idx--){_11f["buff"][idx+1]["text"]=_11f["buff"][idx]["text"];_11f["buff"][idx+1]["candidates"]=_11f["buff"][idx]["candidates"];}_11f["buff"][bidx]["text"]="";_11f["buff"][bidx]["candidates"]="";this.reflectBuffer();},removeText:function(cid){var uidx=this.getUnitIndex(cid);if(uidx<0){return;}var tid=this.currentTargetId;if(tid==""){return;}var _120=this.targets[tid];if(_120==null){return;}var bidx=_120["head"]+uidx;if(bidx<0||bidx>=_120["buff"].length){return;}if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}var len=_120["buff"].length;for(var idx=bidx;idx<len-1;idx++){_120["buff"][idx]["text"]=_120["buff"][idx+1]["text"];_120["buff"][idx]["candidates"]=_120["buff"][idx+1]["candidates"];}_120["buff"][len-1]["text"]="";_120["buff"][len-1]["candidates"]="";this.reflectBuffer();},removeLastText:function(){var tid=this.currentTargetId;if(tid==""){return false;}var _121=this.targets[tid];if(_121==null){return false;}if(this.menuCloseFunc!=null){this.menuCloseFunc(this.paletteId);}var head=_121["head"];var len=_121["buff"].length;var _122=-1;for(var idx=len-1;idx>=0;idx--){if(_121["buff"][idx]["text"]!=""){_121["buff"][idx]["text"]="";_121["buff"][idx]["candidates"]="";_122=idx;break;}}if(_122==head){var _123=this.getAutoScroll();head-=_123;if(head<0){head=0;}_121["head"]=head;}this.reflectBuffer();return (_122>=0);},delText:function(){var _124=InkTool.InkLib.getElementById(this.currentTargetId);if(_124!=null){var text=_124.value;if(text.length>0){_124.value=text.substr(0,text.length-1);}}},setReadOnly:function(flag){for(var idx=0;idx<this.units.length;idx++){var unit=this.units[idx];if(unit!=null){unit.setReadOnly(flag);}}},dummy:function(){}});InkTool.InkKouhoMenuLib={kouhoMenues:[],currentKouhoMenu:"",currentBindedPalette:"",currentBindedUnit:"",ambiguousLetters:{},setAmbiguousLetters:function(_1){InkTool.InkKouhoMenuLib.ambiguousLetters=_1;},createKouhoMenu:function(_2,_3,_4){if(_2===undefined||_2===null||_2===""){var _5=document.createElement("div");_5.id="kouhomenu";_5.className="menu";document.body.appendChild(_5);return null;}else{var _6=new InkTool.InkKouhoMenu(_2,_3,_4);InkTool.InkKouhoMenuLib.kouhoMenues[_2]=_6;return _6;}},getKouhoMenu:function(_7){return InkTool.InkKouhoMenuLib.kouhoMenues[_7];},setupKouhoMenu:function(id,_8,_9){var _a=InkTool.InkLib.getElementById("kouhomenu");while(_a.firstChild){_a.removeChild(_a.firstChild);}var _b=_8.length;var _c=[];for(var _d=0;_d<_b;_d++){var ch=_8.substring(_d,_d+1);var _e=document.createElement("div");_e.className="menuitem";_e.onclick=function(){InkTool.InkRecogLib.setChar(id,this.innerHTML);InkTool.InkKouhoMenuLib.closeKouhoMenu();};_e.innerHTML=ch;_a.appendChild(_e);}var _f=document.createElement("div");_f.className="menuitem2";_f.onclick=function(){InkTool.InkKouhoMenuLib.closeKouhoMenu();};_f.innerHTML=_9;_a.appendChild(_f);var _10=InkTool.InkLib.getElementById(id);var pos=InkTool.InkLib.getElementLocation(_10);var _11=InkTool.InkLib.getElementSize(_10);_a.style.position="absolute";_a.style.left=""+pos.left+"px";_a.style.top=""+(pos.top+_11.height)+"px";},openKouhoMenu:function(){InkTool.InkLib.showElementById("kouhomenu");InkTool.InkKouhoMenuLib.currentKouhoMenu="";InkTool.InkKouhoMenuLib.currentBindedPalette="";},closeKouhoMenu:function(){if(InkTool.InkKouhoMenuLib.currentKouhoMenu==""){InkTool.InkLib.hideElementById("kouhomenu");}else{InkTool.InkLib.hideElementById(InkTool.InkKouhoMenuLib.currentKouhoMenu);var _12=InkTool.InkKouhoMenuLib.currentBindedPalette;if(_12!=""){var _13=InkTool.InkRecogLib.getRecogPalette(_12);if(_13!=null){_13.menuCloseFunc=null;_13.menuCheckTagFunc=null;}}}InkTool.InkKouhoMenuLib.currentKouhoMenu="";InkTool.InkKouhoMenuLib.currentBindedPalette="";InkTool.InkKouhoMenuLib.currentBindedUnit="";},showKouhoMenu:function(_14,_15,_16,_17){InkTool.InkKouhoMenuLib.closeKouhoMenu();var _18=InkTool.InkKouhoMenuLib.getKouhoMenu(_14);if(_18==null){return false;}_18.setCandidates(_17);var _19=InkTool.InkRecogLib.getRecogUnit(_16);var _1a="";if(_19!=null){_1a=_19.getText();}for(var idx=0;idx<_18.itemIds.length;idx++){var _1b=_18.itemIds[idx];var _1c=InkTool.InkLib.getElementById(_1b);if(_1c==null){continue;}var _1d;if(_17!=null&&idx<_17.length){_1d=_17.substring(idx,idx+1);}else{_1d=null;}if(_1d==null){_1c.style.display="none";}else{var _1e=InkTool.InkKouhoMenuLib.ambiguousLetters[_1d];_1c.style.display="block";var _1f;if(_1e==null){_1f=null;}else{if(_1e["lvl"]>10){_1f=null;}else{_1f=_1e["exp"];}}if(_18.menuSetFunc!=null){_18.menuSetFunc(_14,_15,_16,idx,_1c,_1d,_1f,_1a);}else{var _20;if(_1e==null){dispstr=_1d;}else{dispstr=_1d+"&nbsp;&nbsp;-&nbsp;"+_1f;}_1c.innerHTML=dispstr;}_1c.onclick=function(e){InkTool.InkRecogLib.setChar(_16,InkTool.InkKouhoMenuLib.getCandidate(_14,this.id));InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}}var _21=InkTool.InkLib.getElementById(_16);var pos=InkTool.InkLib.getElementLocation(_21);var _22=InkTool.InkLib.getElementSize(_21);var _23=InkTool.InkLib.getElementById(_14);_23.style.position="absolute";_23.style.left=""+pos.left+"px";_23.style.top=""+(pos.top+_22.height)+"px";InkTool.InkLib.showElementById(_14);InkTool.InkKouhoMenuLib.currentKouhoMenu=_14;InkTool.InkKouhoMenuLib.currentBindedPalette=_15;InkTool.InkKouhoMenuLib.currentBindedUnit=_16;if(_15!=null){var _24=InkTool.InkRecogLib.getRecogPalette(_15);if(_24!=null){_24.menuCloseFunc=function(pid){InkTool.InkKouhoMenuLib.closeKouhoMenu();};_24.menuCheckTagFunc=function(_25){if(_25!=null&&_25.id==_14){return true;}else{return false;}};}}return true;},clearText:function(){var _26=InkTool.InkKouhoMenuLib.currentBindedUnit;if(_26!=""){InkTool.InkRecogLib.clearText(_26);}},insertText:function(){var _27=InkTool.InkKouhoMenuLib.currentBindedUnit;if(_27!=""){InkTool.InkRecogLib.insertText(_27);}},removeText:function(){var _28=InkTool.InkKouhoMenuLib.currentBindedUnit;if(_28!=""){InkTool.InkRecogLib.removeText(_28);}},getCandidate:function(_29,_2a){var _2b=InkTool.InkKouhoMenuLib.getKouhoMenu(_29);var _2c="";if(_2b!=null){_2c=_2b.getCandidateByItemId(_2a);}return _2c;},addFunction:function(_2d,fid){var _2e=InkTool.InkLib.getElementById(fid);if(_2e==null){return false;}if(_2d=="close"){_2e.onclick=function(e){InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}else{if(_2d=="clear"){_2e.onclick=function(e){InkTool.InkKouhoMenuLib.clearText();InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}else{if(_2d=="insert"){_2e.onclick=function(e){InkTool.InkKouhoMenuLib.insertText();InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}else{if(_2d=="remove"){_2e.onclick=function(e){InkTool.InkKouhoMenuLib.removeText();InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}}}}return true;},Dummy:null};InkTool.InkKouhoMenu=InkTool.InkLib.Class.create(null,{initialize:function(_2f,_30,_31){this.Version="1.0";this.menuId=_2f;this.itemIds=_30;this.candidates="";this.menuSetFunc=null;var _32=InkTool.InkLib.getElementById(_2f);if(_32!=null){_32.style.position="absolute";_32.style.left="0px";_32.style.top="0px";_32.style.visibility="hidden";if(_31!==undefined&&_31!==null){_32.style.zIndex=_31;}}for(var idx=0;idx<_30.length;idx++){var _33=InkTool.InkLib.getElementById(_30[idx]);if(_33!=null){}}},addFunction:function(_34,fid){var _35=InkTool.InkLib.getElementById(fid);if(_35==null){return false;}if(_34=="close"){_35.onclick=function(e){InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}else{if(_34=="clear"){_35.onclick=function(e){InkTool.InkKouhoMenuLib.clearText();InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}else{if(_34=="insert"){_35.onclick=function(e){InkTool.InkKouhoMenuLib.insertText();InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}else{if(_34=="remove"){_35.onclick=function(e){InkTool.InkKouhoMenuLib.removeText();InkTool.InkKouhoMenuLib.closeKouhoMenu();var evt=InkTool.InkLib.getLastEvent(e);InkTool.InkLib.preventDefaultActionOfEvent(evt,true,true);};}}}}return true;},setMenuSetFunction:function(_36){this.menuSetFunc=_36;},setCandidates:function(_37){this.candidates=_37;},getCandidateByItemId:function(_38){var _39=-1;for(var idx=0;idx<this.itemIds.length;idx++){if(this.itemIds[idx]==_38){_39=idx;break;}}if(_39<0||_39>=this.candidates.length){return "";}else{return this.candidates.substring(_39,_39+1);}},dummy:function(){}});InkTool.InkRecogLib.setSmallCharacters("ãããããã£ããããã¡ã£ã¥ã§ã©ãµã¶ãã£ã¥ã§ã®");InkTool.InkRecogLib.setHankakuList(" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~");InkTool.InkRecogLib.setZenkakuList("ãï¼âï¼ï¼ï¼ï¼âï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ ï¼¡ï¼¢ï¼£ï¼¤ï¼¥ï¼¦ï¼§ï¼¨ï¼©ï¼ªï¼«ï¼¬ï¼­ï¼®ï¼¯ï¼°ï¼±ï¼²ï¼³ï¼´ï¼µï¼¶ï¼·ï¼¸ï¼¹ï¼ºï¼»ï¿¥ï¼½ï¼¾ï¼¿âï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½ï½");InkTool.InkKouhoMenuLib.setAmbiguousLetters({" ":{"exp":"[å]ç©ºç½","lvl": 2},"ã":{"exp":"[å¨]ç©ºç½","lvl":2},"!":{"exp":"[å]æåç¬¦","lvl": 0},"ï¼":{"exp":"[å¨]æåç¬¦","lvl":0},"\"":{"exp":"[å]äºéå¼ç¨ç¬¦","lvl": 2},"â":{"exp":"[å¨]äºéå¼ç¨ç¬¦(å§)","lvl":2},"â":{"exp":"[å¨]äºéå¼ç¨ç¬¦(çµ)","lvl":2},"ï¾":{"exp":"[å]æ¿ç¹","lvl": 2},"ã":{"exp":"[å¨]æ¿ç¹","lvl":2},"â³":{"exp":"[å¨]ç§(åä½)","lvl":2},"ã":{"exp":"[å¨]ç¸¦æ¸ãç¨äºéå¼ç¨ç¬¦(å§)","lvl":2},"ã":{"exp":"[å¨]ç¸¦æ¸ãç¨äºéå¼ç¨ç¬¦(çµ)","lvl":2},"Â¨":{"exp":"[å¨]ã¦ã ã©ã¦ã","lvl":1},"ã":{"exp":"[å¨]åããè¨å·","lvl":1},"â¦":{"exp":"[å¨]ä¸ç¹ãªã¼ã","lvl":1},"â¥":{"exp":"[å¨]äºç¹ãªã¼ã","lvl":1},"â´":{"exp":"[å¨]ãã£ã¦(æ°å­¦)","lvl":1},"âµ":{"exp":"[å¨]ãªããªãã°(æ°å­¦)","lvl":1},"#":{"exp":"[å]ãã³ãã¼","lvl": 0},"ï¼":{"exp":"[å¨]ãã³ãã¼","lvl":1},"â¯":{"exp":"[å¨]ã·ã£ã¼ã(é³æ¥½)","lvl":2},"äº":{"exp":"[å¨]ãï¼ãã","lvl":1},"$":{"exp":"[å]ãã«(éè²¨)","lvl": 0},"ï¼":{"exp":"[å¨]ãã«(éè²¨)","lvl":0},"%":{"exp":"[å]ãã¼ã»ã³ã","lvl": 0},"ï¼":{"exp":"[å¨]ãã¼ã»ã³ã","lvl":1},"â°":{"exp":"[å¨]ãã¼ãã«","lvl":1},"&":{"exp":"[å]ã¢ã³ããµã³ã","lvl": 0},"ï¼":{"exp":"[å¨]ã¢ã³ããµã³ã","lvl":0},"'":{"exp":"[å]å¼ç¨ç¬¦ï¼ã¢ãã¹ãã­ãã£","lvl": 2},"â":{"exp":"[å¨]å¼ç¨ç¬¦(å§)","lvl":2},"â":{"exp":"[å¨]å¼ç¨ç¬¦(çµ)ï¼ã¢ãã¹ãã­ãã£","lvl":2},"ï¾":{"exp":"[å]åæ¿ç¹","lvl": 2},"ã":{"exp":"[å¨]åæ¿ç¹","lvl":2},"Â°":{"exp":"[å¨]åº¦(åä½)","lvl":2},"`":{"exp":"[å]ã¢ã¯ãµã³ã°ã©ã¼ã´ï¼ããã¯ã¯ã©ã¼ã","lvl": 2},"ï½":{"exp":"[å¨]ã¢ã¯ãµã³ã°ã©ã¼ã´","lvl":2},"Â´":{"exp":"[å¨]ã¢ã¯ãµã³ãã®ã¥ï¼ãã©ã¤ã ","lvl":2},"â²":{"exp":"[å¨]å(åä½)","lvl":2},"(":{"exp":"[å]ä¸¸ã«ãã³(å§)","lvl": 0},")":{"exp":"[å]ä¸¸ã«ãã³(çµ)","lvl": 0},"ï¼":{"exp":"[å¨]ä¸¸ã«ãã³(å§)","lvl":1},"{":{"exp":"[å]æ³¢ã«ãã³(å§)","lvl": 0},"}":{"exp":"[å]æ³¢ã«ãã³(çµ)","lvl": 0},"ï½":{"exp":"[å¨]æ³¢ã«ãã³(å§)","lvl":1},"ï½":{"exp":"[å¨]æ³¢ã«ãã³(çµ)","lvl":1},"[":{"exp":"[å]è§ã«ãã³(å§)","lvl": 0},"]":{"exp":"[å]è§ã«ãã³(çµ)","lvl": 0},"ï¼»":{"exp":"[å¨]è§ã«ãã³(å§)","lvl":1},"ï¼½":{"exp":"[å¨]è§ã«ãã³(çµ)","lvl":1},"ï½¢":{"exp":"[å]é¤ã«ãã³(å§)","lvl": 0},"ï½£":{"exp":"[å]é¤ã«ãã³(çµ)","lvl": 0},"ã":{"exp":"[å¨]é¤ã«ãã³(å§)","lvl":1},"ã":{"exp":"[å¨]é¤ã«ãã³(çµ)","lvl":1},"ã":{"exp":"[å¨]äºéé¤ã«ãã³(å§)","lvl":1},"ã":{"exp":"[å¨]äºéé¤ã«ãã³(çµ)","lvl":1},"ã":{"exp":"[å¨]å±±ã«ãã³(å§)","lvl":1},"ã":{"exp":"[å¨]å±±ã«ãã³(çµ)","lvl":1},"ã":{"exp":"[å¨]äºéå±±ã«ãã³(å§)","lvl":1},"ã":{"exp":"[å¨]äºéå±±ã«ãã³(çµ)","lvl":1},"ã":{"exp":"[å¨]äºç²ã«ãã³(å§)","lvl":1},"ã":{"exp":"[å¨]äºç²ã«ãã³(çµ)","lvl":1},"ã":{"exp":"[å¨]éä»ãã«ãã³(å§)","lvl":1},"ã":{"exp":"[å¨]éä»ãã«ãã³(çµ)","lvl":1},"*":{"exp":"[å]ã¢ã¹ããªã¹ã¯(æå°)","lvl": 0},"ï¼":{"exp":"[å¨]ã¢ã¹ããªã¹ã¯(æå°)","lvl":0},"ç±³":{"exp":"[å¨]ãã","lvl":1},"â»":{"exp":"[å¨]ç±³å°","lvl":1},"+":{"exp":"[å]ãã©ã¹","lvl": 0},"ï¼":{"exp":"[å¨]ãã©ã¹","lvl":1},"å":{"exp":"[å¨]æ¼¢æ°å­ï¼ï¼","lvl":1},"å»¿":{"exp":"[å¨]æ¼¢æ°å­ï¼ï¼","lvl":1},"å»¾":{"exp":"[å¨]ãã¾ã¬ã(é¨é¦)","lvl":1},"Â±":{"exp":"[å¨]ãã©ã¹ãã¤ãã¹","lvl":1},"å£«":{"exp":"[å¨]ã","lvl":1},"å":{"exp":"[å¨]ã¤ã¡","lvl":1},"å¹²":{"exp":"[å¨]ã»ã","lvl":1},"å":{"exp":"[å¨]æ¼¢æ°å­ï¼ï¼ï¼ï¼","lvl":1},"äº":{"exp":"[å¨]ãã","lvl":1},",":{"exp":"[å]ã«ã³ã(ã³ã³ã)","lvl": 1},"ï¼":{"exp":"[å¨]ã«ã³ã(ã³ã³ã)","lvl":1},"ï½¤ ":{"exp":"[å]èª­ç¹","lvl":1},"ã":{"exp":"[å¨]èª­ç¹","lvl":1},"ã½":{"exp":"[å¨]ã«ã¿ã«ãç¹°è¿ã","lvl":2},"ã¾":{"exp":"[å¨]ã«ã¿ã«ãç¹°è¿ã(æ¿ç¹)","lvl":2},"ã":{"exp":"[å¨]ã²ãããªç¹°è¿ã","lvl":2},"ã":{"exp":"[å¨]ã²ãããªç¹°è¿ã(æ¿ç¹)","lvl":2},"ä¸¶":{"exp":"[å¨]ã¦ãï¼ãã¦(é¨é¦)","lvl":2},"-":{"exp":"[å]ãã¤ãã³ï¼ãã¤ãã¹","lvl": 1},"ï¼":{"exp":"[å¨]ãã¤ãã¹","lvl":2},"â":{"exp":"[å¨]ãã¤ãã³","lvl":2},"â":{"exp":"[å¨]ããã·ã¥","lvl":2},"ï½°":{"exp":"[å]é·é³","lvl": 1},"ã¼":{"exp":"[å¨]é·é³","lvl":2},"ä¸":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":2},"ï¿¢":{"exp":"[å¨]å¦å®(è«ç)","lvl":1},".":{"exp":"[å]ããªãªã","lvl": 1},"ï¼":{"exp":"[å¨]ããªãªã","lvl":1},"ï½¡":{"exp":"[å]å¥ç¹","lvl": 1},"ã":{"exp":"[å¨]å¥ç¹","lvl":1},"\/":{"exp":"[å]æç·","lvl": 0},"ï¼":{"exp":"[å¨]æç·","lvl":0},"ï½¥":{"exp":"[å]ä¸­ç¹","lvl": 1},"ã»":{"exp":"[å¨]ä¸­ç¹","lvl":1},":":{"exp":"[å]ã³ã­ã³","lvl": 1},"ï¼":{"exp":"[å¨]ã³ã­ã³","lvl":1},";":{"exp":"[å]ã»ãã³ã­ã³","lvl": 1},"ï¼":{"exp":"[å¨]ã»ãã³ã­ã³","lvl":1},"<":{"exp":"[å]ããå°ãã","lvl": 0},"ï¼":{"exp":"[å¨]ããå°ãã","lvl":1},"âª":{"exp":"[å¨]ããéå¸¸ã«å°ãã","lvl":1},"â ":{"exp":"[å¨]è§(æ°å­¦)","lvl":1},"=":{"exp":"[å]ç­ãã","lvl": 0},"ï¼":{"exp":"[å¨]ç­ãã","lvl":1},"â¡":{"exp":"[å¨]åå(æ°å­¦)","lvl":1},"ä¸":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":1},"â":{"exp":"[å¨]ã»ã¨ãã©ç­ãã(æ°å­¦)","lvl":1},"â½":{"exp":"[å¨]ç¸ä¼¼(æ°å­¦)","lvl":1},"â":{"exp":"[å¨]æ¯ä¾(æ°å­¦)","lvl":1},">":{"exp":"[å]ããå¤§ãã","lvl": 0},"ï¼":{"exp":"ï½¢å¨]ããå¤§ãã","lvl":1},"â«":{"exp":"[å¨]ããéå¸¸ã«å¤§ãã","lvl":1},"?":{"exp":"[å]çåç¬¦","lvl": 0},"ï¼":{"exp":"[å¨]çåç¬¦","lvl":0},"@":{"exp":"[å]åä¾¡ãã¢ãããã¼ã¯","lvl": 0},"ï¼ ":{"exp":"[å¨]åä¾¡ãã¢ãããã¼ã¯","lvl":1},"â":{"exp":"[å¨]äºéä¸¸","lvl":1},"\\":{"exp":"[å]å(éè²¨)","lvl": 0},"ï¿¥":{"exp":"[å¨]å(éè²¨)","lvl":0},"ï¼¼":{"exp":"[å¨]ããã¯ã¹ã©ãã·ã¥","lvl":0},"^":{"exp":"[å]ã¢ã¯ãµã³ã·ã«ã³ã³ãã¬ã¯ã¹(ãããè¨å·)","lvl": 1},"ï¼¾":{"exp":"[å¨]ã¢ã¯ãµã³ã·ã«ã³ã³ãã¬ã¯ã¹(ãããè¨å·)","lvl":1},"_":{"exp":"[å]ã¢ã³ãã¼ã©ã¤ã³","lvl": 1},"ï¼¿":{"exp":"[å¨]ã¢ã³ãã¼ã©ã¤ã³","lvl":1},"|":{"exp":"[å]ç¸¦ç·","lvl": 1},"ï½":{"exp":"[å¨]ç¸¦ç·","lvl":1},"â¥":{"exp":"[å¨]åæ±ãå¹³è¡","lvl":1},"ï¿¤":{"exp":"[å¨]ç ´æ­ç·","lvl":1},"â«":{"exp":"[å¨]ç©å(æ°å­¦)","lvl":1},"â¬":{"exp":"[å¨]ï¼éç©å(æ°å­¦)","lvl":1},"â ":{"exp":"[å¨]ãã¬ã¼","lvl":1},"â¡":{"exp":"[å¨]ããã«ãã¬ã¼","lvl":1},"Â¶":{"exp":"[å¨]æ®µè½","lvl":1},"ä¸¿":{"exp":"[å¨]ã®(é¨é¦)","lvl":2},"äº":{"exp":"[å¨]ã¯ã­ã¼ã(é¨é¦)","lvl":2},"ä¸¨":{"exp":"[å¨]ãã¦ã¼ã(é¨é¦)","lvl":2},"~":{"exp":"[å]ãã«ããæ³¢å","lvl": 0},"ï½":{"exp":"[å¨]æ³¢å","lvl":1},"ï¿£":{"exp":"[å¨]ãªã¼ãã¼ã©ã¤ã³","lvl":1},"â":{"exp":"[å¨]å¼§(æ°å­¦)","lvl":1},"äº ":{"exp":"[å¨]ãªã¹ã¶ã(é¨é¦)","lvl":2},"å":{"exp":"[å¨]ããããã(é¨é¦)","lvl":2},"å®":{"exp":"[å¨]ããããã(é¨é¦)","lvl":2},"0":{"exp":"[å]æ°å­ï¼","lvl": 1},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":2},"ã":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":2},"1":{"exp":"[å]æ°å­ï¼","lvl": 1},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":2},"â°":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":2},"â ":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":2},"2":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"â±":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":1},"â¡":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":1},"3":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"â²":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":1},"â¢":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":1},"4":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"â³":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":1},"â£":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":1},"å":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":0},"5":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"â´":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":2},"â¤":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":2},"äº":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":0},"6":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"âµ":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":1},"â¥":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":1},"å­":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":0},"7":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"â¶":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":1},"â¦":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":1},"8":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"â·":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":1},"â§":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":1},"9":{"exp":"[å]æ°å­ï¼","lvl": 0},"ï¼":{"exp":"[å¨]æ°å­ï¼","lvl":0},"â¸":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å°)","lvl":1},"â¨":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼(å¤§)","lvl":1},"ä¹":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":0},"a":{"exp":"[å]ã­ã¼ãå­ã¨ã¤(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ã¤(å°)","lvl":0},"Î±":{"exp":"[å¨]ã®ãªã·ã£æå­ã¢ã«ãã¡(å°)","lvl":0},"A":{"exp":"[å]ã­ã¼ãå­ã¨ã¤(å¤§)","lvl": 0},"ï¼¡":{"exp":"[å¨]ã­ã¼ãå­ã¨ã¤(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã¢ã«ãã¡(å¤§)","lvl":0},"â":{"exp":"[å¨]ãã¹ã¦ã®ï¼æ®ééå®å­)(è«ç)","lvl":1},"â":{"exp":"[å¨]ããã©(æ°å­¦)","lvl":1},"â«":{"exp":"[å¨]ãªã³ã°ã¹ãã­ã¼ã (åä½)","lvl":1},"b":{"exp":"[å]ã­ã¼ãå­ãã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ãã¼(å°)","lvl":0},"â­":{"exp":"[å¨]ãã©ãã(é³æ¥½)","lvl":2},"Î²":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¼ã¿(å°)","lvl":0},"B":{"exp":"[å]ã­ã¼ãå­ãã¼(å¤§)","lvl": 0},"ï¼¢":{"exp":"[å¨]ã­ã¼ãå­ãã¼(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¼ã¿(å¤§)","lvl":0},"c":{"exp":"[å]ã­ã¼ãå­ã·ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã·ã¼(å°)","lvl":0},"Î³":{"exp":"[å¨]ã®ãªã·ã£æå­ã¬ã³ã(å°)","lvl":0},"C":{"exp":"[å]ã­ã¼ãå­ã·ã¼(å¤§)","lvl": 0},"ï¼£":{"exp":"[å¨]ã­ã¼ãå­ã·ã¼(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã¬ã³ã(å¤§)","lvl":0},"â":{"exp":"[å¨]ã»æ°åº¦(åä½)","lvl":1},"ï¿ ":{"exp":"[å¨]ã»ã³ã(éè²¨)","lvl":1},"â":{"exp":"[å¨]çé¨åéå(éå)","lvl":2},"d":{"exp":"[å]ã­ã¼ãå­ãã£ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ãã£ã¼(å°)","lvl":0},"Î´":{"exp":"[å¨]ã®ãªã·ã£æå­ãã«ã¿(å°)","lvl":0},"â":{"exp":"[å¨]ãã«ï¼ã©ã¦ã³ããã£ã¼(æ°å­¦)","lvl":2},"D":{"exp":"[å]ã­ã¼ãå­ãã£ã¼(å¤§)","lvl": 0},"ï¼¤":{"exp":"[å¨]ã­ã¼ãå­ãã£ã¼(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ãã«ã¿(å¤§)","lvl":0},"e":{"exp":"[å]ã­ã¼ãå­ã¤ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¤ã¼(å°)","lvl":0},"Îµ":{"exp":"[å¨]ã®ãªã·ã£æå­ã¤ãã·ã­ã³(å°)","lvl":0},"E":{"exp":"[å]ã­ã¼ãå­ã¤ã¼(å¤§)","lvl": 0},"ï¼¥":{"exp":"[å¨]ã­ã¼ãå­ã¤ã¼(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã¤ãã·ã­ã³(å¤§)","lvl":0},"â":{"exp":"[å¨]å±ãã(éå)","lvl":2},"f":{"exp":"[å]ã­ã¼ãå­ã¨ã(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ã(å°)","lvl":0},"F":{"exp":"[å]ã­ã¼ãå­ã¨ã(å¤§)","lvl": 0},"ï¼¦":{"exp":"[å¨]ã­ã¼ãå­ã¨ã(å¤§)","lvl":0},"g":{"exp":"[å]ã­ã¼ãå­ã¸ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¸ã¼(å°)","lvl":0},"G":{"exp":"[å]ã­ã¼ãå­ã¸ã¼(å¤§)","lvl": 0},"ï¼§":{"exp":"[å¨]ã­ã¼ãå­ã¸ã¼(å¤§)","lvl":0},"h":{"exp":"[å]ã­ã¼ãå­ã¨ã¤ã(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ã¤ã(å°)","lvl":0},"Î·":{"exp":"[å¨]ã®ãªã·ã£æå­ã¨ã¼ã¿(å°)","lvl":0},"H":{"exp":"[å]ã­ã¼ãå­ã¨ã¤ã(å¤§)","lvl": 0},"ï¼¨":{"exp":"[å¨]ã­ã¼ãå­ã¨ã¤ã(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã¨ã¼ã¿(å¤§)","lvl":0},"Î¸":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¼ã¿(å°)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¼ã¿(å¤§)","lvl":0},"i":{"exp":"[å]ã­ã¼ãå­ã¢ã¤(å°)","lvl": 1},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¢ã¤(å°)","lvl":1},"Î¹":{"exp":"[å¨]ã®ãªã·ã£æå­ã¤ãªã¿(å°)","lvl":1},"I":{"exp":"[å]ã­ã¼ãå­ã¢ã¤(å¤§)","lvl": 2},"ï¼©":{"exp":"[å¨]ã­ã¼ãå­ã¢ã¤(å¤§)","lvl":2},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã¤ãªã¿(å¤§)","lvl":2},"j":{"exp":"[å]ã­ã¼ãå­ã¸ã§ã¼(å°)","lvl": 1},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¸ã§ã¼(å°)","lvl":1},"J":{"exp":"[å]ã­ã¼ãå­ã¸ã§ã¼(å¤§)","lvl": 0},"ï¼ª":{"exp":"[å¨]ã­ã¼ãå­ã¸ã§ã¼(å¤§)","lvl":0},"k":{"exp":"[å]ã­ã¼ãå­ã±ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã±ã¼(å°)","lvl":0},"Îº":{"exp":"[å¨]ã®ãªã·ã£æå­ã«ãã(å°)","lvl":0},"K":{"exp":"[å]ã­ã¼ãå­ã±ã¼(å¤§)","lvl": 0},"ï¼«":{"exp":"[å¨]ã­ã¼ãå­ã±ã¼(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã«ãã(å¤§)","lvl":0},"l":{"exp":"[å]ã­ã¼ãå­ã¨ã«(å°)","lvl": 2},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ã«(å°)","lvl":2},"Î»":{"exp":"[å¨]ã®ãªã·ã£æå­ã©ã ã(å°)","lvl":0},"L":{"exp":"[å]ã­ã¼ãå­ã¨ã«(å¤§)","lvl": 0},"ï¼¬":{"exp":"[å¨]ã­ã¼ãå­ã¨ã«(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã©ã ã(å¤§)","lvl":0},"ï¿¡":{"exp":"[å¨]ãã³ã(éè²¨)","lvl":1},"m":{"exp":"[å]ã­ã¼ãå­ã¨ã (å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ã (å°)","lvl":0},"Î¼":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¥ã¼(å°)","lvl":0},"M":{"exp":"[å]ã­ã¼ãå­ã¨ã (å¤§)","lvl": 0},"ï¼­":{"exp":"[å¨]ã­ã¼ãå­ã¨ã (å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¥ã¼(å¤§)","lvl":0},"n":{"exp":"[å]ã­ã¼ãå­ã¨ã(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ã(å°)","lvl":0},"Î½":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¥ã¼(å°)","lvl":0},"N":{"exp":"[å]ã­ã¼ãå­ã¨ã(å¤§)","lvl": 0},"ï¼®":{"exp":"[å¨]ã­ã¼ãå­ã¨ã(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¥ã¼(å¤§)","lvl":0},"Î¾":{"exp":"[å¨]ã®ãªã·ã£æå­ã°ã¶ã¤(å°)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã°ã¶ã¤(å¤§)","lvl":0},"o":{"exp":"[å]ã­ã¼ãå­ãªã¼(å°)","lvl": 2},"ï½":{"exp":"[å¨]ã­ã¼ãå­ãªã¼(å°)","lvl":2},"Î¿":{"exp":"[å¨]ã®ãªã·ã£æå­ãªãã¯ã­ã³(å°)","lvl":2},"O":{"exp":"[å]ã­ã¼ãå­ãªã¼(å¤§)","lvl": 2},"ï¼¯":{"exp":"[å¨]ã­ã¼ãå­ãªã¼(å¤§)","lvl":2},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ãªãã¯ã­ã³(å¤§)","lvl":2},"â":{"exp":"[å¨]ä¸¸å°","lvl":2},"â¯":{"exp":"[å¨]åæç¨ä¸¸","lvl":2},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¤(å°)","lvl":2},"å":{"exp":"[å¨]ãã¤","lvl":2},"Î ":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¤(å¤§)","lvl":0},"p":{"exp":"[å]ã­ã¼ãå­ãã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ãã¼(å°)","lvl":0},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ã­ã¼(å°)","lvl":0},"P":{"exp":"[å]ã­ã¼ãå­ãã¼(å¤§)","lvl": 0},"ï¼°":{"exp":"[å¨]ã­ã¼ãå­ãã¼(å¤§)","lvl":0},"Î¡":{"exp":"[å¨]ã®ãªã·ã£æå­ã­ã¼(å¤§)","lvl":0},"q":{"exp":"[å]ã­ã¼ãå­ã­ã¥ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã­ã¥ã¼(å°)","lvl":0},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ã·ã°ã(å°)","lvl":0},"Q":{"exp":"[å]ã­ã¼ãå­ã­ã¥ã¼(å¤§)","lvl": 0},"ï¼±":{"exp":"[å¨]ã­ã¼ãå­ã­ã¥ã¼(å¤§)","lvl":0},"Î£":{"exp":"[å¨]ã®ãªã·ã£æå­ã·ã°ã(å¤§)","lvl":0},"â":{"exp":"[å¨]ç·å(æ°å­¦)","lvl":0},"r":{"exp":"[å]ã­ã¼ãå­ã¢ã¼ã«(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¢ã¼ã«(å°)","lvl":0},"R":{"exp":"[å]ã­ã¼ãå­ã¢ã¼ã«(å¤§)","lvl": 0},"ï¼²":{"exp":"[å¨]ã­ã¼ãå­ã¢ã¼ã«(å¤§)","lvl":0},"s":{"exp":"[å]ã­ã¼ãå­ã¨ã¹(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ã¹(å°)","lvl":0},"S":{"exp":"[å]ã­ã¼ãå­ã¨ã¹(å¤§)","lvl": 0},"ï¼³":{"exp":"[å¨]ã­ã¼ãå­ã¨ã¹(å¤§)","lvl":0},"t":{"exp":"[å]ã­ã¼ãå­ãã£ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ãã£ã¼(å°)","lvl":0},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ã¿ã¦(å°)","lvl":0},"T":{"exp":"[å]ã­ã¼ãå­ãã£ã¼(å¤§)","lvl": 0},"ï¼´":{"exp":"[å¨]ã­ã¼ãå­ãã£ã¼(å¤§)","lvl":0},"Î¤":{"exp":"[å¨]ã®ãªã·ã£æå­ã¿ã¦(å¤§)","lvl":0},"â¥":{"exp":"[å¨]åç´(æ°å­¦)","lvl":1},"ä¸":{"exp":"[å¨]ã¡ãã","lvl":1},"u":{"exp":"[å]ã­ã¼ãå­ã¦ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¦ã¼(å°)","lvl":0},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ã¦ãã·ã­ã³(å°)","lvl":0},"U":{"exp":"[å]ã­ã¼ãå­ã¦ã¼(å¤§)","lvl": 0},"ï¼µ":{"exp":"[å¨]ã­ã¼ãå­ã¦ã¼(å¤§)","lvl":1},"Î¥":{"exp":"[å¨]ã®ãªã·ã£æå­ã¦ãã·ã­ã³(å¤§)","lvl":0},"âª":{"exp":"[å¨]åéå(éå)","lvl":2},"â©":{"exp":"[å¨]å±ééå(éå)","lvl":1},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¡ã¤(å°)","lvl":0},"Î¦":{"exp":"[å¨]ã®ãªã·ã£æå­ãã¡ã¤(å¤§)","lvl":0},"v":{"exp":"[å]ã­ã¼ãå­ã´ã£ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã´ã£ã¼(å°)","lvl":1},"V":{"exp":"[å]ã­ã¼ãå­ã´ã£ã¼(å¤§)","lvl": 0},"ï¼¶":{"exp":"[å¨]ã­ã¼ãå­ã´ã£ã¼(å¤§)","lvl":1},"â¨":{"exp":"[å¨]åã¯(é¢æ¥)(è«ç)","lvl":2},"â§":{"exp":"[å¨]åã³(åæ¥)(è«ç)","lvl":1},"w":{"exp":"[å]ã­ã¼ãå­ãããªã¥ã¼(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ãããªã¥ã¼(å°)","lvl":0},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ãªã¡ã¬(å°)","lvl":1},"W":{"exp":"[å]ã­ã¼ãå­ãããªã¥ã¼(å¤§)","lvl": 0},"ï¼·":{"exp":"[å¨]ã­ã¼ãå­ãããªã¥ã¼(å¤§)","lvl":0},"Î©":{"exp":"[å¨]ã®ãªã·ã£æå­ãªã¡ã¬(å¤§)","lvl":1},"x":{"exp":"[å]ã­ã¼ãå­ã¨ãã¯ã¹(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¨ãã¯ã¹(å°)","lvl":1},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ã«ã¤(å°)","lvl":1},"X":{"exp":"[å]ã­ã¼ãå­ã¨ãã¯ã¹(å¤§)","lvl": 0},"ï¼¸":{"exp":"[å¨]ã­ã¼ãå­ã¨ãã¯ã¹(å¤§)","lvl":1},"Î§":{"exp":"[å¨]ã®ãªã·ã£æå­ã«ã¤(å¤§)","lvl":1},"â¹":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼ï¼(å°)","lvl":2},"â©":{"exp":"[å¨]ã­ã¼ãæ°å­ï¼ï¼(å¤§)","lvl":2},"Ã":{"exp":"[å¨]ããããä¹ç®(æ°å­¦)","lvl":2},"y":{"exp":"[å]ã­ã¼ãå­ã¯ã¤(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¯ã¤(å°)","lvl":0},"Ï":{"exp":"[å¨]ã®ãªã·ã£æå­ããµã¤(å°)","lvl":1},"Y":{"exp":"[å]ã­ã¼ãå­ã¯ã¤(å¤§)","lvl": 0},"ï¼¹":{"exp":"[å¨]ã­ã¼ãå­ã¯ã¤(å¤§)","lvl":0},"Î¨":{"exp":"[å¨]ã®ãªã·ã£æå­ããµã¤(å¤§)","lvl":1},"z":{"exp":"[å]ã­ã¼ãå­ã¼ãã(å°)","lvl": 0},"ï½":{"exp":"[å¨]ã­ã¼ãå­ã¼ãã(å°)","lvl":0},"Z":{"exp":"[å]ã­ã¼ãå­ã¼ãã(å¤§)","lvl": 0},"ï¼º":{"exp":"[å¨]ã­ã¼ãå­ã¼ãã(å¤§)","lvl":0},"Î":{"exp":"[å¨]ã®ãªã·ã£æå­ã¼ã¼ã¿(å¤§)","lvl":0},"ï½±":{"exp":"[å]ã«ã¿ã«ãï¼¡","lvl": 1},"ï½§":{"exp":"[å]ã«ã¿ã«ãï½(å°)","lvl": 1},"ã¢":{"exp":"[å¨]ã«ã¿ã«ãï¼¡","lvl":1},"ã¡":{"exp":"[å¨]ã«ã¿ã«ãï½(å°)","lvl":1},"äº":{"exp":"[å¨]ããã","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼¡","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½(å°)","lvl":1},"ï½²":{"exp":"[å]ã«ã¿ã«ãï¼©","lvl": 1},"ï½¨":{"exp":"[å]ã«ã¿ã«ãï½(å°)","lvl": 1},"ã¤":{"exp":"[å¨]ã«ã¿ã«ãï¼©","lvl":1},"ã£":{"exp":"[å¨]ã«ã¿ã«ãï½(å°)","lvl":1},"å½³":{"exp":"[å¨]ãããã«ãã¹ã(é¨é¦)","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼©","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½(å°)","lvl":1},"ï½³":{"exp":"[å]ã«ã¿ã«ãï¼µ","lvl": 1},"ï½©":{"exp":"[å]ã«ã¿ã«ãï½(å°)","lvl": 1},"ã¦":{"exp":"[å¨]ã«ã¿ã«ãï¼µ","lvl":1},"ã¥":{"exp":"[å¨]ã«ã¿ã«ãï½(å°)","lvl":1},"ã´":{"exp":"[å¨]ã«ã¿ã«ãï¼¶ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼µ","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï½(å°)","lvl":1},"ï½´":{"exp":"[å]ã«ã¿ã«ãï¼¥","lvl": 1},"ï½ª":{"exp":"[å]ã«ã¿ã«ãï½(å°)","lvl": 1},"ã¨":{"exp":"[å¨]ã«ã¿ã«ãï¼¥","lvl":2},"ã§":{"exp":"[å¨]ã«ã¿ã«ãï½(å°)","lvl":1},"å·¥":{"exp":"[å¨]ãï¼ãã","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼¥","lvl":1},"ä¹":{"exp":"[å¨]ã®ï¼ãã","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½(å°)","lvl":1},"ï½µ":{"exp":"[å]ã«ã¿ã«ãï¼¯","lvl": 1},"ï½«":{"exp":"[å]ã«ã¿ã«ãï½(å°)","lvl": 1},"ãª":{"exp":"[å¨]ã«ã¿ã«ãï¼¯","lvl":1},"ã©":{"exp":"[å¨]ã«ã¿ã«ãï½(å°)","lvl":1},"æ":{"exp":"[å¨]ãã","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼¯","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½(å°)","lvl":1},"ï½¶":{"exp":"[å]ã«ã¿ã«ãï¼«ï¼¡","lvl": 0},"ã«":{"exp":"[å¨]ã«ã¿ã«ãï¼«ï¼¡","lvl":2},"ã¬":{"exp":"[å¨]ã«ã¿ã«ãï¼§ï¼¡","lvl":1},"ãµ":{"exp":"[å¨]ã«ã¿ã«ãï½ï½(å°)","lvl":1},"å":{"exp":"[å¨]ã¡ãã","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼«ï¼¡","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼§ï¼¡","lvl":1},"ï½·":{"exp":"[å]ã«ã¿ã«ãï¼«ï¼©","lvl": 0},"ã­":{"exp":"[å¨]ã«ã¿ã«ãï¼«ï¼©","lvl":1},"ã®":{"exp":"[å¨]ã«ã¿ã«ãï¼§ï¼©","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼«ï¼©","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼§ï¼©","lvl":1},"ï½¸":{"exp":"[å]ã«ã¿ã«ãï¼«ï¼µ","lvl": 0},"ã¯":{"exp":"[å¨]ã«ã¿ã«ãï¼«ï¼µ","lvl":1},"ã°":{"exp":"[å¨]ã«ã¿ã«ãï¼§ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼«ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼§ï¼µ","lvl":1},"ï½¹":{"exp":"[å]ã«ã¿ã«ãï¼«ï¼¥","lvl": 0},"ã±":{"exp":"[å¨]ã«ã¿ã«ãï¼«ï¼¥","lvl":1},"ã²":{"exp":"[å¨]ã«ã¿ã«ãï¼§ï¼¥","lvl":1},"ã¶":{"exp":"[å¨]ã«ã¿ã«ãï½ï½(å°)","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼«ï¼¥","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼§ï¼¥","lvl":1},"ï½º":{"exp":"[å]ã«ã¿ã«ãï¼«ï¼¯","lvl": 0},"ã³":{"exp":"[å¨]ã«ã¿ã«ãï¼«ï¼¯","lvl":1},"ã´":{"exp":"[å¨]ã«ã¿ã«ãï¼§ï¼¯","lvl":1},"â":{"exp":"[å¨]çé¨åéåãå«ã(éå)","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼«ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼§ï¼¯","lvl":1},"ï½»":{"exp":"[å]ã«ã¿ã«ãï¼³ï¼¡","lvl": 0},"ãµ":{"exp":"[å¨]ã«ã¿ã«ãï¼³ï¼¡","lvl":1},"ã¶":{"exp":"[å¨]ã«ã¿ã«ãï¼ºï¼¡","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼³ï¼¡","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼ºï¼¡","lvl":1},"ï½¼":{"exp":"[å]ã«ã¿ã«ãï¼³ï¼©","lvl": 1},"ã·":{"exp":"[å¨]ã«ã¿ã«ãï¼³ï¼©","lvl":1},"ã¸":{"exp":"[å¨]ã«ã¿ã«ãï¼ºï¼©","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼³ï¼©","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼ºï¼©","lvl":1},"ï½½":{"exp":"[å]ã«ã¿ã«ãï¼³ï¼µ","lvl": 0},"ã¹":{"exp":"[å¨]ã«ã¿ã«ãï¼³ï¼µ","lvl":1},"ãº":{"exp":"[å¨]ã«ã¿ã«ãï¼ºï¼µ","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼³ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼ºï¼µ","lvl":1},"ï½¾":{"exp":"[å]ã«ã¿ã«ãï¼³ï¼¥","lvl": 0},"ã»":{"exp":"[å¨]ã«ã¿ã«ãï¼³ï¼¥","lvl":1},"ã¼":{"exp":"[å¨]ã«ã¿ã«ãï¼ºï¼¥","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼³ï¼¥","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼ºï¼¥","lvl":1},"ï½¿":{"exp":"[å]ã«ã¿ã«ãï¼³ï¼¯","lvl": 1},"ã½":{"exp":"[å¨]ã«ã¿ã«ãï¼³ï¼¯","lvl":1},"ã¾":{"exp":"[å¨]ã«ã¿ã«ãï¼ºï¼¯","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼³ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼ºï¼¯","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼´ï¼¡","lvl": 0},"ã¿":{"exp":"[å¨]ã«ã¿ã«ãï¼´ï¼¡","lvl":2},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¤ï¼¡","lvl":1},"å¤":{"exp":"[å¨]ãã","lvl":2},"å¤":{"exp":"[å¨]ãµãããã(é¨é¦)","lvl":1},"å¤":{"exp":"[å¨]ããã«ãã(é¨é¦)","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼´ï¼¡","lvl":1},"ã ":{"exp":"[å¨]ã²ãããªï¼¤ï¼¡","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼´ï¼©","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼´ï¼©","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¤ï¼©","lvl":1},"ã¡":{"exp":"[å¨]ã²ãããªï¼´ï¼©","lvl":1},"ã¢":{"exp":"[å¨]ã²ãããªï¼¤ï¼©","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼´ï¼µ","lvl": 1},"ï½¯":{"exp":"[å]ã«ã¿ã«ãï½ï½(å°)","lvl": 1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼´ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï½ï½(å°)","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¤ï¼µ","lvl":1},"ã¤":{"exp":"[å¨]ã²ãããªï¼´ï¼µ","lvl":1},"ã£":{"exp":"[å¨]ã²ãããªï½ï½(å°)","lvl":1},"ã¥":{"exp":"[å¨]ã²ãããªï¼¤ï¼µ","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼´ï¼¥","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼´ï¼¥","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¤ï¼¥","lvl":1},"ã":{"exp":"[å¨]éµä¾¿","lvl":2},"ã¦":{"exp":"[å¨]ã²ãããªï¼´ï¼¥","lvl":1},"ã§":{"exp":"[å¨]ã²ãããªï¼¤ï¼¥","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼´ï¼¯","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼´ï¼¯","lvl":2},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¤ï¼¯","lvl":1},"å":{"exp":"[å¨]ã¼ã","lvl":2},"ã¨":{"exp":"[å¨]ã²ãããªï¼´ï¼¯","lvl":1},"ã©":{"exp":"[å¨]ã²ãããªï¼¤ï¼¯","lvl":1},"ï¾ ":{"exp":"[å]ã«ã¿ã«ãï¼®ï¼¡","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼®ï¼¡","lvl":1},"ãª":{"exp":"[å¨]ã²ãããªï¼®ï¼¡","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼®ï¼©","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼®ï¼©","lvl":2},"äº":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":2},"ã«":{"exp":"[å¨]ã²ãããªï¼®ï¼©","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼®ï¼µ","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼®ï¼µ","lvl":1},"å":{"exp":"[å¨]ã¾ã","lvl":1},"ã¬":{"exp":"[å¨]ã²ãããªï¼®ï¼µ","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼®ï¼¥","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼®ï¼¥","lvl":1},"ã­":{"exp":"[å¨]ã²ãããªï¼®ï¼¥","lvl":1},"ï¾ ":{"exp":"[å]ã«ã¿ã«ãï¼®ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼®ï¼¯","lvl":1},"ã®":{"exp":"[å¨]ã²ãããªï¼®ï¼¯","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¨ï¼¡","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¨ï¼¡","lvl":2},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¢ï¼¡","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼°ï¼¡","lvl":1},"å«":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":2},"ã¯":{"exp":"[å¨]ã²ãããªï¼¨ï¼¡","lvl":1},"ã°":{"exp":"[å¨]ã²ãããªï¼¢ï¼¡","lvl":1},"ã±":{"exp":"[å¨]ã²ãããªï¼°ï¼¡","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¨ï¼©","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¨ï¼©","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¢ï¼©","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼°ï¼©","lvl":1},"å":{"exp":"[å¨]ããã®ã²(é¨é¦)","lvl":2},"ä¸":{"exp":"[å¨]æ¼¢æ°å­ï¼","lvl":1},"ã²":{"exp":"[å¨]ã²ãããªï¼¨ï¼©","lvl":1},"ã³":{"exp":"[å¨]ã²ãããªï¼¢ï¼©","lvl":1},"ã´":{"exp":"[å¨]ã²ãããªï¼°ï¼©","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¨ï¼µ","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¨ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¢ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼°ï¼µ","lvl":1},"ãµ":{"exp":"[å¨]ã²ãããªï¼¨ï¼µ","lvl":1},"ã¶":{"exp":"[å¨]ã²ãããªï¼¢ï¼µ","lvl":1},"ã·":{"exp":"[å¨]ã²ãããªï¼°ï¼µ","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¨ï¼¥","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¨ï¼¥","lvl":2},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¢ï¼¥","lvl":2},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼°ï¼¥","lvl":2},"ã¸":{"exp":"[å¨]ã²ãããªï¼¨ï¼¥","lvl":2},"ã¹":{"exp":"[å¨]ã²ãããªï¼¢ï¼¥","lvl":2},"ãº":{"exp":"[å¨]ã²ãããªï¼°ï¼¥","lvl":2},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¨ï¼¯","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¨ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼¢ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼°ï¼¯","lvl":1},"ã»":{"exp":"[å¨]ã²ãããªï¼¨ï¼¯","lvl":1},"ã¼":{"exp":"[å¨]ã²ãããªï¼¢ï¼¯","lvl":1},"ã½":{"exp":"[å¨]ã²ãããªï¼°ï¼¯","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼­ï¼¡","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼­ï¼¡","lvl":1},"ã¾":{"exp":"[å¨]ã²ãããªï¼­ï¼¡","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼­ï¼©","lvl": 0},"ã":{"exp":"[å¨]ã«ã¿ã«ãï¼­ï¼©","lvl":1},"å½¡":{"exp":"[å¨]ããã¥ãã(é¨é¦)","lvl":1},"ã¿":{"exp":"[å¨]ã²ãããªï¼­ï¼©","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼­ï¼µ","lvl": 0},"ã ":{"exp":"[å¨]ã«ã¿ã«ãï¼­ï¼µ","lvl":2},"å¶":{"exp":"[å¨]ãããã(é¨é¦)","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼­ï¼µ","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼­ï¼¥","lvl": 1},"ã¡":{"exp":"[å¨]ã«ã¿ã«ãï¼­ï¼¥","lvl":1},"ä¹":{"exp":"[å¨]ãã","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼­ï¼¥","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼­ï¼¯","lvl": 0},"ã¢":{"exp":"[å¨]ã«ã¿ã«ãï¼­ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼­ï¼¯","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¹ï¼¡","lvl": 1},"ï½¬":{"exp":"[å]ã«ã¿ã«ãï½ï½(å°)","lvl": 1},"ã¤":{"exp":"[å¨]ã«ã¿ã«ãï¼¹ï¼¡","lvl":1},"ã£":{"exp":"[å¨]ã«ã¿ã«ãï½ï½(å°)","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼¹ï¼¡","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½ï½(å°)","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¹ï¼µ","lvl": 1},"ï½­":{"exp":"[å]ã«ã¿ã«ãï½ï½(å°)","lvl": 1},"ã¦":{"exp":"[å¨]ã«ã¿ã«ãï¼¹ï¼µ","lvl":1},"ã¥":{"exp":"[å¨]ã«ã¿ã«ãï½ï½(å°)","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼¹ï¼µ","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½ï½(å°)","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼¹ï¼¯","lvl": 1},"ï½®":{"exp":"[å]ã«ã¿ã«ãï½ï½(å°)","lvl": 1},"ã¨":{"exp":"[å¨]ã«ã¿ã«ãï¼¹ï¼¯","lvl":2},"ã§":{"exp":"[å¨]ã«ã¿ã«ãï½ï½(å°)","lvl":2},"â":{"exp":"[å¨]åã¨ãã¦å«ã(éå)","lvl":1},"â":{"exp":"[å¨]å­å¨ãã(å­å¨éå®å­)(è«ç)","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼¹ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½ï½(å°)","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼²ï¼¡","lvl": 0},"ã©":{"exp":"[å¨]ã«ã¿ã«ãï¼²ï¼¡","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼²ï¼¡","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼²ï¼©","lvl": 1},"ãª":{"exp":"[å¨]ã«ã¿ã«ãï¼²ï¼©","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼²ï¼©","lvl":2},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼²ï¼µ","lvl": 0},"ã«":{"exp":"[å¨]ã«ã¿ã«ãï¼²ï¼µ","lvl":1},"å¿":{"exp":"[å¨]ã«ãã«ãã(é¨é¦)","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼²ï¼µ","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼²ï¼¥","lvl": 0},"ã¬":{"exp":"[å¨]ã«ã¿ã«ãï¼²ï¼¥","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼²ï¼¥","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼²ï¼¯","lvl": 1},"ã­":{"exp":"[å¨]ã«ã¿ã«ãï¼²ï¼¯","lvl":2},"â¡":{"exp":"[å¨]åè§","lvl":2},"å£":{"exp":"[å¨]ãã¡","lvl":2},"å":{"exp":"[å¨]ãã«ãã¾ã(é¨é¦)","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼²ï¼¯","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼·ï¼¡","lvl": 0},"ã¯":{"exp":"[å¨]ã«ã¿ã«ãï¼·ï¼¡","lvl":1},"ã®":{"exp":"[å¨]ã«ã¿ã«ãï½ï½(å°)","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼·ï¼¡","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï½ï½(å°)","lvl":1},"ã°":{"exp":"[å¨]ã«ã¿ã«ãï¼·ï¼©","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼·ï¼©","lvl":1},"ã±":{"exp":"[å¨]ã«ã¿ã«ãï¼·ï¼¥","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼·ï¼¥","lvl":1},"ï½¦":{"exp":"[å]ã«ã¿ã«ãï¼·ï¼¯","lvl": 0},"ã²":{"exp":"[å¨]ã«ã¿ã«ãï¼·ï¼¯","lvl":1},"ã":{"exp":"[å¨]ã²ãããªï¼·ï¼¯","lvl":1},"ï¾":{"exp":"[å]ã«ã¿ã«ãï¼®","lvl": 1},"ã³":{"exp":"[å¨]ã«ã¿ã«ãï¼®","lvl":1},"å«":{"exp":"[å¨]ã«ãã(é¨é¦)","lvl":2},"ã":{"exp":"[å¨]ã²ãããªï¼®","lvl":1},"äºº":{"exp":"[å¨]ã²ã¨","lvl":2},"å¥":{"exp":"[å¨]ã¯ãã","lvl":2},"æ¥":{"exp":"[å¨]ã«ã¡","lvl":2},"æ°":{"exp":"[å¨]ããã","lvl":2},"å":{"exp":"[å¨]ãããã¾ã(é¨é¦)","lvl":1},"å¹":{"exp":"[å¨]ã¤ã¤ã¿ãã¾ã(é¨é¦)","lvl":1},"å ":{"exp":"[å¨]ã¤ãã(é¨é¦)","lvl":1},"åµ":{"exp":"[å¨]ããã«ãã(é¨é¦)","lvl":1},"å":{"exp":"[å¨]ã¯ããã¾ã(é¨é¦)","lvl":1},"å¸":{"exp":"[å¨]ããããã¾ã(é¨é¦)","lvl":1},"å©":{"exp":"[å¨]ãµãã¥ãã(é¨é¦)","lvl":1},"å¹¿":{"exp":"[å¨]ã¾ã ã(é¨é¦)","lvl":1},"å":{"exp":"[å¨]ããã ã(é¨é¦)","lvl":1},"å°¸":{"exp":"[å¨]ããã°ã­(é¨é¦)","lvl":1},"å":{"exp":"[å¨]ã¹ã","lvl":1},"å¤©":{"exp":"[å¨]ã¦ã","lvl":1},"å¤­":{"exp":"[å¨]ãã","lvl":1},"å¤²":{"exp":"[å¨]ã¨ã","lvl":1},"å­":{"exp":"[å¨]ãã¤","lvl":1},"å·±":{"exp":"[å¨]ã","lvl":1},"å·²":{"exp":"[å¨]ã","lvl":1},"å·³":{"exp":"[å¨]ã","lvl":1}});